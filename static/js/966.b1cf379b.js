/*! For license information please see 966.b1cf379b.js.LICENSE.txt */
"use strict";(self.webpackChunkform_crafter=self.webpackChunkform_crafter||[]).push([["966"],{5298:function(t,e,o){o.d(e,{Z:function(){return n}});let n=function(t,e){var o,n}},3250:function(t,e,o){var n=o(7294),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!i(t,o)}catch(t){return!0}}var h="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var o=e(),n=r({inst:{value:o,getSnapshot:e}}),i=n[0].inst,h=n[1];return a(function(){i.value=o,i.getSnapshot=e,u(i)&&h({inst:i})},[t,o,e]),s(function(){return u(i)&&h({inst:i}),t(function(){u(i)&&h({inst:i})})},[t]),l(o),o};e.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:h},139:function(t,e,o){var n=o(7294),i=o(1688),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=i.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,o,n,i){var c=a(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var p=s(t,(c=u(function(){function t(t){if(!l){if(l=!0,s=t,t=n(t),void 0!==i&&d.hasValue){var e=d.value;if(i(e,t))return a=e}return a=t}if(e=a,r(s,t))return e;var o=n(t);return void 0!==i&&i(e,o)?e:(s=t,a=o)}var s,a,l=!1,u=void 0===o?null:o;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]},[e,o,n,i]))[0],c[1]);return l(function(){d.hasValue=!0,d.value=p},[p]),h(p),p}},1688:function(t,e,o){t.exports=o(3250)},2798:function(t,e,o){t.exports=o(139)},7464:function(t,e,o){o.d(e,{M:function(){return r},q:function(){return a}});var n=o(5893),i=o(7294);function r(t){let e=t.errorComponent??a;return(0,n.jsx)(s,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:o,reset:n})=>o?i.createElement(e,{error:o,reset:n}):t.children})}class s extends i.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,e){this.props.onCatch&&this.props.onCatch(t,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function a({error:t}){let[e,o]=i.useState(!1);return(0,n.jsxs)("div",{style:{padding:".5rem",maxWidth:"100%"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[(0,n.jsx)("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),(0,n.jsx)("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>o(t=>!t),children:e?"Hide Error":"Show Error"})]}),(0,n.jsx)("div",{style:{height:".25rem"}}),e?(0,n.jsx)("div",{children:(0,n.jsx)("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?(0,n.jsx)("code",{children:t.message}):null})}):null]})}},9044:function(t,e,o){o.d(e,{qE:()=>_,j3:()=>S});var n=o("5893"),i=o("7294"),r=o("1835"),s=o("5298"),a=o("7464"),l=o("2570"),u=o("3635"),h=o("3091"),c=o("6346"),d=o("8239"),p=o("2099");function f(t){return"object"==typeof t&&!!t&&"data"in t&&"__isServerError"in t&&!!t.__isServerError&&"object"==typeof t.data&&!!t.data&&!0===t.__isServerError}function m(t){if("name"in t&&"message"in t){let e=Error(t.message);return e.name=t.name,e}return t.data}var v=o("6845");function g(t,e,o){if(!e.options.notFoundComponent)return t.options.defaultNotFoundComponent?(0,n.jsx)(t.options.defaultNotFoundComponent,{data:o}):(0,n.jsx)(c.Eq,{});return(0,n.jsx)(e.options.notFoundComponent,{data:o})}var y=o("4073");let _=i.memo(function({matchId:t}){var e,o;let h=(0,u.t)(),d=(0,l.z)({select:e=>{var o;return null==(o=e.matches.find(e=>e.id===t))?void 0:o.routeId}});(0,r.Z)(d,`Could not find routeId for matchId "${t}". Please file an issue!`);let f=h.routesById[d],m=f.options.pendingComponent??h.options.defaultPendingComponent,g=m?(0,n.jsx)(m,{}):null,y=f.options.errorComponent??h.options.defaultErrorComponent,_=f.options.onCatch??h.options.defaultOnCatch,S=f.isRoot?f.options.notFoundComponent??(null==(e=h.options.notFoundRoute)?void 0:e.options.component):f.options.notFoundComponent,w=(!f.isRoot||f.options.wrapInSuspense)&&(f.options.wrapInSuspense??m??(null==(o=f.options.errorComponent)?void 0:o.preload))?i.Suspense:v.R,R=y?a.M:v.R,C=S?c.C0:v.R,L=(0,l.z)({select:t=>t.loadedAt});return(0,n.jsx)(p.i.Provider,{value:t,children:(0,n.jsx)(w,{fallback:g,children:(0,n.jsx)(R,{getResetKey:()=>L,errorComponent:y||a.q,onCatch:(e,o)=>{if((0,c.I3)(e))throw e;(0,s.Z)(!1,`Error in route match: ${t}`),null==_||_(e,o)},children:(0,n.jsx)(C,{fallback:t=>{if(!S||t.routeId&&t.routeId!==d||!t.routeId&&!f.isRoot)throw t;return i.createElement(S,t)},children:(0,n.jsx)(b,{matchId:t})})})})})}),b=i.memo(function({matchId:t}){var e,o,s;let p=(0,u.t)(),{match:v,matchIndex:y,routeId:_}=(0,l.z)({select:e=>{let o=e.matches.findIndex(e=>e.id===t),n=e.matches[o];return{routeId:n.routeId,matchIndex:o,match:(0,h.ei)(n,["id","status","error","loadPromise"])}}}),b=p.routesById[_],w=i.useMemo(()=>{let t=b.options.component??p.options.defaultComponent;return t?(0,n.jsx)(t,{}):(0,n.jsx)(S,{})},[b.options.component,p.options.defaultComponent]),R=(b.options.errorComponent??p.options.defaultErrorComponent)||a.q;if("notFound"===v.status){let t;return t=f(v.error)?((null==(e=p.options.errorSerializer)?void 0:e.deserialize)??m)(v.error.data):v.error,(0,r.Z)((0,c.I3)(t),"Expected a notFound error"),g(p,b,t)}if("redirected"===v.status)throw(0,r.Z)((0,d.x8)(v.error),"Expected a redirect error"),v.loadPromise;if("error"===v.status){if(p.isServer)return(0,n.jsx)(R,{error:v.error,info:{componentStack:""}});if(f(v.error))throw((null==(o=p.options.errorSerializer)?void 0:o.deserialize)??m)(v.error.data);throw v.error}if("pending"===v.status){let t=b.options.pendingMinMs??p.options.defaultPendingMinMs;if(t&&!(null==(s=p.getMatch(v.id))?void 0:s.minPendingPromise)&&!p.isServer){let e=(0,h.M5)();Promise.resolve().then(()=>{p.updateMatch(v.id,t=>({...t,minPendingPromise:e}))}),setTimeout(()=>{e.resolve(),p.updateMatch(v.id,t=>({...t,minPendingPromise:void 0}))},t)}throw v.loadPromise}return(0,n.jsxs)(n.Fragment,{children:[w,p.AfterEachMatch?(0,n.jsx)(p.AfterEachMatch,{match:v,matchIndex:y}):null]})}),S=i.memo(function(){let t=(0,u.t)(),e=i.useContext(p.i),o=(0,l.z)({select:t=>{var o;return null==(o=t.matches.find(t=>t.id===e))?void 0:o.routeId}}),s=t.routesById[o],{parentGlobalNotFound:a}=(0,l.z)({select:t=>{let o=t.matches.find(t=>t.id===e);return(0,r.Z)(o,`Could not find parent match for matchId "${e}"`),{parentGlobalNotFound:o.globalNotFound}}}),h=(0,l.z)({select:t=>{var o;let n=t.matches,i=n.findIndex(t=>t.id===e);return null==(o=n[i+1])?void 0:o.id}});if(a)return g(t,s,void 0);if(!h)return null;let c=(0,n.jsx)(_,{matchId:h}),d=t.options.defaultPendingComponent?(0,n.jsx)(t.options.defaultPendingComponent,{}):null;return e===y.B?(0,n.jsx)(i.Suspense,{fallback:d,children:c}):c})},8453:function(t,e,o){o.d(e,{p:()=>_});var n=o("5893"),i=o("7294"),r=o("5298"),s=o("7464"),a=o("2570"),l=o("3635"),u=o("3091"),h=o("7111");function c(){let t=(0,l.t)(),e=i.useRef({router:t,mounted:!1}),o=(0,a.z)({select:t=>(0,u.ei)(t,["isLoading","location","resolvedLocation","isTransitioning"])}),[n,r]=i.useTransition(),s=(0,a.z)({select:t=>t.matches.some(t=>"pending"===t.status)}),c=(0,u.D9)(o.isLoading),d=o.isLoading||n||s,p=(0,u.D9)(d),f=o.isLoading||s,m=(0,u.D9)(f);return!t.isServer&&(t.startReactTransition=r),i.useEffect(()=>{let e=t.history.subscribe(t.load),o=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return(0,h.zk)(t.latestLocation.href)!==(0,h.zk)(o.href)&&t.commitLocation({...o,replace:!0}),()=>{e()}},[t,t.history]),(0,u.bt)(()=>{var o;if(("undefined"==typeof window||(null==(o=window.__TSR__)?!void 0:!o.dehydrated))&&(e.current.router!==t||!e.current.mounted))e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(t){console.error(t)}})()},[t]),(0,u.bt)(()=>{if(c&&!o.isLoading){let e=t.state.location,o=t.state.resolvedLocation,n=o.pathname!==e.pathname;t.emit({type:"onLoad",fromLocation:o,toLocation:e,pathChanged:n})}},[c,t,o.isLoading]),(0,u.bt)(()=>{if(m&&!f){let e=t.state.location,o=t.state.resolvedLocation,n=o.pathname!==e.pathname;t.emit({type:"onBeforeRouteMount",fromLocation:o,toLocation:e,pathChanged:n})}},[f,m,t]),(0,u.bt)(()=>{if(p&&!d){let e=t.state.location,o=t.state.resolvedLocation,n=o.pathname!==e.pathname;if(t.emit({type:"onResolved",fromLocation:o,toLocation:e,pathChanged:n}),t.__store.setState(t=>({...t,status:"idle",resolvedLocation:t.location})),"undefined"!=typeof document&&document.querySelector&&""!==t.state.location.hash){let e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView()}}},[d,p,t]),null}var d=o("2099"),p=o("9044"),f=o("6845");function m(){let t=(0,l.t)(),e=t.options.defaultPendingComponent?(0,n.jsx)(t.options.defaultPendingComponent,{}):null,o=t.isServer||"undefined"!=typeof document&&window.__TSR__?f.R:i.Suspense,r=(0,n.jsxs)(o,{fallback:e,children:[(0,n.jsx)(c,{}),(0,n.jsx)(v,{})]});return t.options.InnerWrap?(0,n.jsx)(t.options.InnerWrap,{children:r}):r}function v(){let t=(0,a.z)({select:t=>{var e;return null==(e=t.matches[0])?void 0:e.id}}),e=(0,a.z)({select:t=>t.loadedAt});return(0,n.jsx)(d.i.Provider,{value:t,children:(0,n.jsx)(s.M,{getResetKey:()=>e,errorComponent:s.q,onCatch:t=>{(0,r.Z)(!1,"The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!"),(0,r.Z)(!1,t.message||t.toString())},children:t?(0,n.jsx)(p.qE,{matchId:t}):null})})}var g=o("1939");function y({router:t,children:e,...o}){t.update({...t.options,...o,context:{...t.options.context,...o.context}});let i=(0,g.v)(),r=(0,n.jsx)(i.Provider,{value:t,children:e});return t.options.Wrap?(0,n.jsx)(t.options.Wrap,{children:r}):r}function _({router:t,...e}){return(0,n.jsx)(y,{router:t,...e,children:(0,n.jsx)(m,{})})}},6845:function(t,e,o){o.d(e,{R:function(){return i}});var n=o(5893);function i(t){return(0,n.jsx)(n.Fragment,{children:t.children})}},9627:function(t,e,o){o.d(e,{f2:function(){return c},k0:function(){return f}});var n=o(5298),i=o(5416),r=o(4e3),s=o(9179),a=o(2699),l=o(5437),u=o(1387),h=o(6619);function c(t){return new d(t,{silent:!0}).createRoute}class d{constructor(t,e){this.path=t,this.createRoute=t=>{(0,n.Z)(this.silent,"FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.");let e=(0,i.ot)(t);return e.isRoot=!1,e},this.silent=null==e?void 0:e.silent}}class p{constructor(t){this.useMatch=t=>(0,r.b)({select:null==t?void 0:t.select,from:this.options.id}),this.useRouteContext=t=>(0,r.b)({from:this.options.id,select:e=>(null==t?void 0:t.select)?t.select(e.context):e.context}),this.useSearch=t=>(0,l.R)({...t,from:this.options.id}),this.useParams=t=>(0,u.U)({...t,from:this.options.id}),this.useLoaderDeps=t=>(0,s.M)({...t,from:this.options.id}),this.useLoaderData=t=>(0,a.O)({...t,from:this.options.id}),this.useNavigate=()=>(0,h.s)({from:this.options.id}),this.options=t,this.$$typeof=Symbol.for("react.memo")}}function f(t){return e=>new p({id:t,...e})}},2099:function(t,e,o){o.d(e,{i:function(){return n}});let n=o(7294).createContext(void 0)},6346:function(t,e,o){o.d(e,{C0:function(){return l},Eq:function(){return u},I3:function(){return a},v6:function(){return s}});var n=o(5893),i=o(7464),r=o(2570);function s(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function a(t){return!!(null==t?void 0:t.isNotFound)}function l(t){let e=(0,r.z)({select:t=>`not-found-${t.location.pathname}-${t.status}`});return(0,n.jsx)(i.M,{getResetKey:()=>e,onCatch:(e,o)=>{var n;if(a(e))null==(n=t.onCatch)||n.call(t,e,o);else throw e},errorComponent:({error:e})=>{var o;if(a(e))return null==(o=t.fallback)?void 0:o.call(t,e);throw e},children:t.children})}function u(){return(0,n.jsx)("p",{children:"Not Found"})}},7111:function(t,e,o){o.d(e,{$O:function(){return d},KO:function(){return l},Q_:function(){return h},RQ:function(){return i},XI:function(){return s},i3:function(){return u},s1:function(){return r},sk:function(){return c},zk:function(){return a}});var n=o(3091);function i(t){return r(t.filter(t=>void 0!==t).join("/"))}function r(t){return t.replace(/\/{2,}/g,"/")}function s(t){return"/"===t?t:t.replace(/^\/{1,}/,"")}function a(t){return"/"===t?t:t.replace(/\/{1,}$/,"")}function l(t){return a(s(t))}function u({basepath:t,base:e,to:o,trailingSlash:s="never",caseSensitive:a}){var l,u;e=p(t,e,a),o=p(t,o,a);let c=h(e),d=h(o);return c.length>1&&(null==(l=(0,n.Z$)(c))?void 0:l.value)==="/"&&c.pop(),d.forEach((t,e)=>{"/"===t.value?e?e===d.length-1&&c.push(t):c=[t]:".."===t.value?c.pop():"."===t.value||c.push(t)}),c.length>1&&((null==(u=(0,n.Z$)(c))?void 0:u.value)==="/"?"never"===s&&c.pop():"always"===s&&c.push({type:"pathname",value:"/"})),r(i([t,...c.map(t=>t.value)]))}function h(t){if(!t)return[];t=r(t);let e=[];if("/"===t.slice(0,1)&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;let o=t.split("/").filter(Boolean);return e.push(...o.map(t=>"$"===t||"*"===t?{type:"wildcard",value:t}:"$"===t.charAt(0)?{type:"param",value:t}:{type:"pathname",value:decodeURI(t)})),"/"===t.slice(-1)&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function c({path:t,params:e,leaveWildcards:o,leaveParams:n,decodeCharMap:r}){let s=h(t),a={};for(let[t,o]of Object.entries(e)){let e="string"==typeof o;["*","_splat"].includes(t)?a[t]=e?encodeURI(o):o:a[t]=e?function(t,e){let o=encodeURIComponent(t);if(e)for(let[t,n]of e)o=o.replaceAll(t,n);return o}(o,r):o}return i(s.map(t=>{if("wildcard"===t.type){let e=a._splat;return o?`${t.value}${e??""}`:e}if("param"===t.type){if(n){let e=a[t.value];return`${t.value}${e??""}`}return a[t.value.substring(1)]??"undefined"}return t.value}))}function d(t,e,o){let n=function(t,e,o){if("/"!==t&&!e.startsWith(t))return;e=p(t,e,o.caseSensitive);let n=p(t,`${o.to??"$"}`,o.caseSensitive),r=h(e),s=h(n);!e.startsWith("/")&&r.unshift({type:"pathname",value:"/"}),!n.startsWith("/")&&s.unshift({type:"pathname",value:"/"});let a={};return(()=>{for(let t=0;t<Math.max(r.length,s.length);t++){let e=r[t],n=s[t],l=t>=r.length-1,u=t>=s.length-1;if(n){if("wildcard"===n.type){let e=decodeURI(i(r.slice(t).map(t=>t.value)));return a["*"]=e,a._splat=e,!0}if("pathname"===n.type){if("/"===n.value&&!(null==e?void 0:e.value))return!0;if(e){if(o.caseSensitive){if(n.value!==e.value)return!1}else if(n.value.toLowerCase()!==e.value.toLowerCase())return!1}}if(!e)return!1;if("param"===n.type){if("/"===e.value)return!1;"$"!==e.value.charAt(0)&&(a[n.value.substring(1)]=decodeURIComponent(e.value))}}if(!l&&u)return a["**"]=i(r.slice(t+1).map(t=>t.value)),!!o.fuzzy&&(null==n?void 0:n.value)!=="/"}return!0})()?a:void 0}(t,e,o);if(!o.to||!!n)return n??{}}function p(t,e,o=!1){let n=o?t:t.toLowerCase(),i=o?e:e.toLowerCase();switch(!0){case"/"===n:return e;case i===n:return"";case e.length<t.length:case"/"!==i[n.length]:return e;case i.startsWith(n):return e.slice(t.length);default:return e}}},8239:function(t,e,o){function n(t){return!!(null==t?void 0:t.isRedirect)}function i(t){return!!(null==t?void 0:t.isRedirect)&&t.href}o.d(e,{ef:function(){return i},x8:function(){return n}})},4073:function(t,e,o){o.d(e,{B:function(){return n}});let n="__root__"},5416:function(t,e,o){o.d(e,{ot:function(){return p},uM:function(){return m}});var n=o(1835),i=o(4e3),r=o(9179),s=o(2699),a=o(7111),l=o(1387),u=o(5437);o(6346);var h=o(6619),c=o(4073);class d{constructor(t){this.init=t=>{var e,o;this.originalIndex=t.originalIndex;let i=this.options,r=!(null==i?void 0:i.path)&&!(null==i?void 0:i.id);this.parentRoute=null==(o=(e=this.options).getParentRoute)?void 0:o.call(e),r?this._path=c.B:(0,n.Z)(this.parentRoute,"Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let s=r?c.B:i.path;s&&"/"!==s&&(s=(0,a.XI)(s));let l=(null==i?void 0:i.id)||s,u=r?c.B:(0,a.RQ)([this.parentRoute.id===c.B?"":this.parentRoute.id,l]);s===c.B&&(s="/"),u!==c.B&&(u=(0,a.RQ)(["/",u]));let h=u===c.B?"/":(0,a.RQ)([this.parentRoute.fullPath,s]);this._path=s,this._id=u,this._fullPath=h,this._to=h,this._ssr=(null==i?void 0:i.ssr)??t.defaultSsr??!0},this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.useMatch=t=>(0,i.b)({...t,from:this.id}),this.useRouteContext=t=>(0,i.b)({...t,from:this.id,select:e=>(null==t?void 0:t.select)?t.select(e.context):e.context}),this.useSearch=t=>(0,u.R)({...t,from:this.id}),this.useParams=t=>(0,l.U)({...t,from:this.id}),this.useLoaderDeps=t=>(0,r.M)({...t,from:this.id}),this.useLoaderData=t=>(0,s.O)({...t,from:this.id}),this.useNavigate=()=>(0,h.s)({from:this.id}),this.options=t||{},this.isRoot=!(null==t?void 0:t.getParentRoute),(0,n.Z)(!((null==t?void 0:t.id)&&(null==t?void 0:t.path)),"Route cannot have both an 'id' and a 'path' option."),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),"object"==typeof t&&null!==t&&(this.children=Object.values(t)),this}}function p(t){return new d(t)}class f extends d{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function m(t){return new f(t)}},8095:function(t,e,o){o.d(e,{p7:()=>x});let n="pushstate",i="popstate",r="beforeunload",s=t=>(t.preventDefault(),t.returnValue=""),a=()=>{removeEventListener(r,s,{capture:!0})};function l(t){let e=t.getLocation(),o=new Set,n=[],i=()=>{e=t.getLocation(),o.forEach(t=>t())},l=async(e,o)=>{var r;if(!(null==o?void 0:o.ignoreBlocker)&&"undefined"!=typeof document&&n.length){for(let e of n)if(!await e()){null==(r=t.onBlocked)||r.call(t,i);return}}e()};return{get location(){return e},get length(){return t.getLength()},subscribers:o,subscribe:t=>(o.add(t),()=>{o.delete(t)}),push:(e,o,n)=>{o=u(o),l(()=>{t.pushState(e,o),i()},n)},replace:(e,o,n)=>{o=u(o),l(()=>{t.replaceState(e,o),i()},n)},go:(e,o)=>{l(()=>{t.go(e),i()},o)},back:e=>{l(()=>{t.back(),i()},e)},forward:e=>{l(()=>{t.forward(),i()},e)},createHref:e=>t.createHref(e),block:t=>(n.push(t),1===n.length&&addEventListener(r,s,{capture:!0}),()=>{!(n=n.filter(e=>e!==t)).length&&a()}),flush:()=>{var e;return null==(e=t.flush)?void 0:e.call(t)},destroy:()=>{var e;return null==(e=t.destroy)?void 0:e.call(t)},notify:i}}function u(t){return!t&&(t={}),{...t,key:function(){return(Math.random()+1).toString(36).substring(7)}()}}function h(t,e){let o=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,o>0?n>0?Math.min(o,n):o:n>0?n:t.length),hash:o>-1?t.substring(o):"",search:n>-1?t.slice(n,-1===o?void 0:o):"",state:e||{}}}class c{constructor(t,e){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=t=>{var e,o;this.listeners.add(t);let n=null==(o=null==(e=this.options)?void 0:e.onSubscribe)?void 0:o.call(e,t,this);return()=>{this.listeners.delete(t),null==n||n()}},this.setState=t=>{var e,o,n;let i=this.state;this.state=(null==(e=this.options)?void 0:e.updateFn)?this.options.updateFn(i)(t):t(i),null==(n=null==(o=this.options)?void 0:o.onUpdate)||n.call(o),this._flush()},this._flush=()=>{if(this._batching)return;let t=++this._flushing;this.listeners.forEach(e=>{this._flushing===t&&e()})},this.batch=t=>{if(this._batching)return t();this._batching=!0,t(),this._batching=!1,this._flush()},this.state=t,this.options=e}}var d=o("1835"),p=o("5298"),f=o("4073");function m(t){if(!t)return"";let e=decodeURIComponent(t);return"false"!==e&&("true"===e||(0*+e==0&&+e+""===e?+e:e))}let v=function(t){return e=>{"?"===e.substring(0,1)&&(e=e.substring(1));let o=function(t,e){let o,n;let i={},r=t.split("&");for(;o=r.shift();){let t=o.indexOf("=");if(-1!==t){n=decodeURIComponent(n=o.slice(0,t));let e=o.slice(t+1);void 0!==i[n]?i[n]=[].concat(i[n],m(e)):i[n]=m(e)}else i[n=decodeURIComponent(n=o)]=""}return i}(e);for(let e in o){let n=o[e];if("string"==typeof n)try{o[e]=t(n)}catch(t){}}return o}}(JSON.parse),g=function(t,e){return o=>{Object.keys(o={...o}).forEach(n=>{let i=o[n];void 0===i||void 0===i?delete o[n]:o[n]=function(o){if("object"==typeof o&&null!==o)try{return t(o)}catch(t){}else if("string"==typeof o&&"function"==typeof e)try{return e(o),t(o)}catch(t){}return o}(i)});let n=(function(t,e){let o,n,i,r="";for(o in t)if(void 0!==(i=t[o])){if(Array.isArray(i))for(n=0;n<i.length;n++)r&&(r+="&"),r+=encodeURIComponent(o)+"="+encodeURIComponent(i[n]);else r&&(r+="&"),r+=encodeURIComponent(o)+"="+encodeURIComponent(i)}return""+r})(o).toString();return n?`?${n}`:""}}(JSON.stringify,JSON.parse);var y=o("3091"),_=o("7111"),b=o("8239"),S=o("6346");let w={stringify:t=>JSON.stringify(t,function(t,e){let o=this[t],n=R.find(t=>t.stringifyCondition(o));return n?n.stringify(o):e}),parse:t=>JSON.parse(t,function(t,e){let o=this[t],n=R.find(t=>t.parseCondition(o));return n?n.parse(o):e})},R=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>(0,y.PO)(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>void 0===t,stringify:()=>({$undefined:""}),parseCondition:t=>(0,y.PO)(t)&&""===t.$undefined,parse:()=>void 0}],C=["component","errorComponent","pendingComponent","notFoundComponent"];function L(t,e){if(null==t)return{};if("~validate"in t){let o=t["~validate"]({value:e});if("value"in o)return o.value;throw new P(JSON.stringify(o.issues,void 0,2))}return"parse"in t?t.parse(e):"function"==typeof t?t(e):{}}function x(t){return new M(t)}class M{constructor(t){this.tempLocationKey=`${Math.round(1e7*Math.random())}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.subscribers=new Set,this.startReactTransition=t=>t(),this.update=t=>{t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");let e=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??"undefined"==typeof document,this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(t=>[encodeURIComponent(t),t])):void 0,(!this.basepath||t.basepath&&t.basepath!==e.basepath)&&(void 0===t.basepath||""===t.basepath||"/"===t.basepath?this.basepath="/":this.basepath=`/${(0,_.KO)(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?function(t={initialEntries:["/"]}){let e=t.initialEntries,o=t.initialIndex??e.length-1,n=e.map(()=>({}));return l({getLocation:()=>h(e[o],n[o]),getLength:()=>e.length,pushState:(t,i)=>{o<e.length-1&&(e.splice(o+1),n.splice(o+1)),n.push(i),e.push(t),o=Math.max(e.length-1,0)},replaceState:(t,i)=>{n[o]=i,e[o]=t},back:()=>{o=Math.max(o-1,0)},forward:()=>{o=Math.min(o+1,e.length-1)},go:t=>{o=Math.min(Math.max(o+t,0),e.length-1)},createHref:t=>t})}({initialEntries:[this.basepath||"/"]}):function(t){let e,o,r;let s=(void 0)??("undefined"!=typeof document?window:void 0),a=s.history.pushState,u=s.history.replaceState,c=(null==t?void 0:t.createHref)??(t=>t),d=(null==t?void 0:t.parseLocation)??(()=>h(`${s.location.pathname}${s.location.search}${s.location.hash}`,s.history.state)),p=d(),f=()=>{if(!!o)g._ignoreSubscribers=!0,(o.isPush?s.history.pushState:s.history.replaceState)(o.state,"",o.href),g._ignoreSubscribers=!1,o=void 0,r=void 0,e=void 0},m=(t,n,i)=>{let s=c(n);!r&&(e=p),p=h(n,i),o={href:s,state:i,isPush:(null==o?void 0:o.isPush)||"push"===t},!r&&(r=Promise.resolve().then(()=>f()))},v=()=>{p=d(),g.notify()},g=l({getLocation:()=>p,getLength:()=>s.history.length,pushState:(t,e)=>m("push",t,e),replaceState:(t,e)=>m("replace",t,e),back:()=>s.history.back(),forward:()=>s.history.forward(),go:t=>s.history.go(t),createHref:t=>c(t),flush:f,destroy:()=>{s.history.pushState=a,s.history.replaceState=u,s.removeEventListener(n,v),s.removeEventListener(i,v)},onBlocked:t=>{e&&p!==e&&(p=e,t())}});return s.addEventListener(n,v),s.addEventListener(i,v),s.history.pushState=function(...t){let e=a.apply(s.history,t);return!g._ignoreSubscribers&&v(),e},s.history.replaceState=function(...t){let e=u.apply(s.history,t);return!g._ignoreSubscribers&&v(),e},g}()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&(this.__store=new c(function(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(t=>!["redirected"].includes(t.status))}}}))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};let t=this.options.notFoundRoute;t&&(t.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);let e=t=>{t.forEach((t,o)=>{t.init({originalIndex:o,defaultSsr:this.options.defaultSsr});let n=this.routesById[t.id];if((0,d.Z)(!n,`Duplicate routes found with id: ${String(t.id)}`),this.routesById[t.id]=t,!t.isRoot&&t.path){let e=(0,_.zk)(t.fullPath);(!this.routesByPath[e]||t.fullPath.endsWith("/"))&&(this.routesByPath[e]=t)}let i=t.children;(null==i?void 0:i.length)&&e(i)})};e([this.routeTree]);let o=[];Object.values(this.routesById).forEach((t,e)=>{var n;if(t.isRoot||!t.path)return;let i=(0,_.XI)(t.fullPath),r=(0,_.Q_)(i);for(;r.length>1&&(null==(n=r[0])?void 0:n.value)==="/";)r.shift();let s=r.map(t=>"/"===t.value?.75:"param"===t.type?.5:"wildcard"===t.type?.25:1);o.push({child:t,trimmed:i,parsed:r,index:e,scores:s})}),this.flatRoutes=o.sort((t,e)=>{let o=Math.min(t.scores.length,e.scores.length);for(let n=0;n<o;n++)if(t.scores[n]!==e.scores[n])return e.scores[n]-t.scores[n];if(t.scores.length!==e.scores.length)return e.scores.length-t.scores.length;for(let n=0;n<o;n++)if(t.parsed[n].value!==e.parsed[n].value)return t.parsed[n].value>e.parsed[n].value?1:-1;return t.index-e.index}).map((t,e)=>(t.child.rank=e,t.child))},this.subscribe=(t,e)=>{let o={eventType:t,fn:e};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=t=>{this.subscribers.forEach(e=>{e.eventType===t.type&&e.fn(t)})},this.parseLocation=t=>{let e=({pathname:e,search:o,hash:n,state:i})=>{let r=this.options.parseSearch(o),s=this.options.stringifySearch(r);return{pathname:e,searchStr:s,search:(0,y.Q$)(null==t?void 0:t.search,r),hash:n.split("#").reverse()[0]??"",href:`${e}${s}${n}`,state:(0,y.Q$)(null==t?void 0:t.state,i)}},o=e(this.history.location),{__tempLocation:n,__tempKey:i}=o.state;if(n&&(!i||i===this.tempLocationKey)){let t=e(n);return t.state.key=o.state.key,delete t.state.__tempLocation,{...t,maskedLocation:o}}return o},this.resolvePathWithBase=(t,e)=>(0,_.i3)({basepath:this.basepath,base:t,to:(0,_.s1)(e),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(t,e)=>{let o={},n=(0,_.zk)(t.pathname),i=t=>(0,_.$O)(this.basepath,n,{to:t.fullPath,caseSensitive:t.options.caseSensitive??this.options.caseSensitive,fuzzy:!0}),r=(null==e?void 0:e.to)!==void 0?this.routesByPath[e.to]:void 0;r?o=i(r):r=this.flatRoutes.find(t=>{let e=i(t);return!!e&&(o=e,!0)});let s=r||this.routesById[f.B],a=[s];for(;s.parentRoute;)s=s.parentRoute,a.unshift(s);return{matchedRoutes:a,routeParams:o,foundRoute:r}},this.cancelMatch=t=>{let e=this.getMatch(t);e&&(e.abortController.abort(),clearTimeout(e.pendingTimeout))},this.cancelMatches=()=>{var t;null==(t=this.state.pendingMatches)||t.forEach(t=>{this.cancelMatch(t.id)})},this.buildLocation=t=>{let e=(e={},o)=>{var n,i,r,s,a,l;let u;let h=e._fromLocation?this.matchRoutes(e._fromLocation,{_buildLocation:!0}):this.state.matches,c=null!=e.from?h.find(t=>(0,_.$O)(this.basepath,(0,_.zk)(t.pathname),{to:e.from,caseSensitive:!1,fuzzy:!1})):void 0,p=(null==c?void 0:c.pathname)||this.latestLocation.pathname;(0,d.Z)(null==e.from||null!=c,"Could not find match for from: "+e.from);let f=(null==(n=this.state.pendingMatches)?void 0:n.length)?null==(i=(0,y.Z$)(this.state.pendingMatches))?void 0:i.search:(null==(r=(0,y.Z$)(h))?void 0:r.search)||this.latestLocation.search,m=null==o?void 0:o.matchedRoutes.filter(t=>h.find(e=>e.routeId===t.id));if(e.to)u=this.resolvePathWithBase(p,`${e.to}`);else{let t=this.routesById[null==(s=null==m?void 0:m.find(t=>{let e=(0,_.sk)({path:t.fullPath,params:(null==o?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return(0,_.RQ)([this.basepath,e])===p}))?void 0:s.id];u=this.resolvePathWithBase(p,(null==t?void 0:t.to)??p)}let v={...null==(a=(0,y.Z$)(h))?void 0:a.params},g=(e.params??!0)===!0?v:{...v,...(0,y.SE)(e.params,v)};Object.keys(g).length>0&&(null==o||o.matchedRoutes.map(t=>{var e;return(null==(e=t.options.params)?void 0:e.stringify)??t.options.stringifyParams}).filter(Boolean).forEach(t=>{g={...g,...t(g)}})),u=(0,_.sk)({path:u,params:g??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let b=f;if(t._includeValidateSearch){let t=(null==(l=this.options.search)?void 0:l.strict)?{}:b;null==o||o.matchedRoutes.forEach(e=>{try{e.options.validateSearch&&(t={...t,...L(e.options.validateSearch,{...t,...b})??{}})}catch(t){}}),b=t}b=(t=>{let n=(null==o?void 0:o.matchedRoutes.reduce((t,e)=>{var o;let n=[];return"search"in e.options?(null==(o=e.options.search)?void 0:o.middlewares)&&(n=e.options.search.middlewares):(e.options.preSearchFilters||e.options.postSearchFilters)&&(n=[({search:t,next:o})=>{let n=t;"preSearchFilters"in e.options&&e.options.preSearchFilters&&(n=e.options.preSearchFilters.reduce((t,e)=>e(t),t));let i=o(n);return"postSearchFilters"in e.options&&e.options.postSearchFilters?e.options.postSearchFilters.reduce((t,e)=>e(t),i):i}]),t.concat(n)},[]))??[];n.push(({search:t})=>e.search?!0===e.search?t:(0,y.SE)(e.search,t):{});let i=(t,e)=>{if(t>=n.length)return e;let o=n[t];return o({search:e,next:e=>i(t+1,e)})};return i(0,t)})(b),b=(0,y.Q$)(f,b);let S=this.options.stringifySearch(b),w=!0===e.hash?this.latestLocation.hash:e.hash?(0,y.SE)(e.hash,this.latestLocation.hash):void 0,R=w?`#${w}`:"",C=!0===e.state?this.latestLocation.state:e.state?(0,y.SE)(e.state,this.latestLocation.state):{};return C=(0,y.Q$)(this.latestLocation.state,C),{pathname:u,search:b,searchStr:S,state:C,hash:w??"",href:`${u}${S}${R}`,unmaskOnReload:e.unmaskOnReload}},o=(o={},n)=>{var i;let r=e(o),s=n?e(n):void 0;if(!s){let o={},a=null==(i=this.options.routeMasks)?void 0:i.find(t=>{let e=(0,_.$O)(this.basepath,r.pathname,{to:t.from,caseSensitive:!1,fuzzy:!1});return!!e&&(o=e,!0)});if(a){let{from:i,...r}=a;s=e(n={...(0,y.ei)(t,["from"]),...r,params:o})}}let a=this.getMatchedRoutes(r,o),l=e(o,a);if(s){let t=this.getMatchedRoutes(s,n),o=e(n,t);l.maskedLocation=o}return l};return t.mask?o(t,{...(0,y.ei)(t,["from"]),...t.mask}):o(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:e,...o})=>{let n=this.latestLocation.href===o.href,i=this.commitLocationPromise;if(this.commitLocationPromise=(0,y.M5)(()=>{null==i||i.resolve()}),n&&(()=>{o.state.key=this.latestLocation.state.key;let t=(0,y.vZ)(o.state,this.latestLocation.state);return delete o.state.key,t})())this.load();else{let{maskedLocation:n,...i}=o;n&&((i={...n,state:{...n.state,__tempKey:void 0,__tempLocation:{...i,search:i.searchStr,state:{...i.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}}).unmaskOnReload??this.options.unmaskOnReload)&&(i.state.__tempKey=this.tempLocationKey),this.shouldViewTransition=t,this.history[o.replace?"replace":"push"](i.href,i.state,{ignoreBlocker:e})}return this.resetNextScroll=o.resetScroll??!0,!this.history.subscribers.size&&this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:e,viewTransition:o,ignoreBlocker:n,...i}={})=>{let r=i.href;if(r){let t=h(r,{});i.to=t.pathname,i.search=this.options.parseSearch(t.search),i.hash=t.hash.slice(1)}let s=this.buildLocation({...i,_includeValidateSearch:!0});return this.commitLocation({...s,viewTransition:o,replace:t,resetScroll:e,ignoreBlocker:n})},this.navigate=({to:t,...e})=>{let o;let n=String(t);try{new URL(`${n}`),o=!0}catch(t){}return(0,d.Z)(!o,"Attempting to navigate to external url with router.navigate!"),this.buildAndCommitLocation({...e,to:t})},this.load=async()=>{let t,e,o;for(this.latestLocation=this.parseLocation(this.latestLocation),o=new Promise(n=>{this.startReactTransition(async()=>{var i;try{let t;let e=this.latestLocation,o=this.state.resolvedLocation,n=o.href!==e.href;this.cancelMatches(),this.__store.batch(()=>{t=this.matchRoutes(e),this.__store.setState(o=>({...o,status:"pending",isLoading:!0,location:e,pendingMatches:t,cachedMatches:o.cachedMatches.filter(e=>!t.find(t=>t.id===e.id))}))}),!this.state.redirect&&this.emit({type:"onBeforeNavigate",fromLocation:o,toLocation:e,pathChanged:n}),this.emit({type:"onBeforeLoad",fromLocation:o,toLocation:e,pathChanged:n}),await this.loadMatches({matches:t,location:e,onReady:async()=>{this.startViewTransition(async()=>{let t,e,o;this.__store.batch(()=>{this.__store.setState(n=>{let i=n.matches,r=n.pendingMatches||n.matches;return t=i.filter(t=>!r.find(e=>e.id===t.id)),e=r.filter(t=>!i.find(e=>e.id===t.id)),o=i.filter(t=>r.find(e=>e.id===t.id)),{...n,isLoading:!1,loadedAt:Date.now(),matches:r,pendingMatches:void 0,cachedMatches:[...n.cachedMatches,...t.filter(t=>"error"!==t.status)]}}),this.clearExpiredCache()}),[[t,"onLeave"],[e,"onEnter"],[o,"onStay"]].forEach(([t,e])=>{t.forEach(t=>{var o,n;null==(n=(o=this.looseRoutesById[t.routeId].options)[e])||n.call(o,t)})})})}})}catch(o){(0,b.ef)(o)?(t=o,!this.isServer&&this.navigate({...o,replace:!0,ignoreBlocker:!0})):(0,S.I3)(o)&&(e=o),this.__store.setState(o=>({...o,statusCode:t?t.statusCode:e?404:o.matches.some(t=>"error"===t.status)?500:200,redirect:t}))}this.latestLoadPromise===o&&(null==(i=this.commitLocationPromise)||i.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),n()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=t=>{let e=this.shouldViewTransition??this.options.defaultViewTransition;delete this.shouldViewTransition,e&&"undefined"!=typeof document&&"startViewTransition"in document&&"function"==typeof document.startViewTransition?document.startViewTransition(t):t()},this.updateMatch=(t,e)=>{var o;let n;let i=null==(o=this.state.pendingMatches)?void 0:o.find(e=>e.id===t),r=this.state.matches.find(e=>e.id===t),s=i?"pendingMatches":r?"matches":"cachedMatches";return this.__store.setState(o=>{var i;return{...o,[s]:null==(i=o[s])?void 0:i.map(o=>o.id===t?n=e(o):o)}}),n},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(e=>e.id===t),this.loadMatches=async({location:t,matches:e,preload:o,onReady:n,updateMatch:i=this.updateMatch})=>{let r;let s=!1,a=async()=>{!s&&(s=!0,await (null==n?void 0:n()))};!this.isServer&&!this.state.matches.length&&a();let l=(o,n)=>{var r,a,l;if((0,b.ef)(n))throw n;if((0,b.x8)(n)||(0,S.I3)(n)){if(i(o.id,t=>({...t,status:(0,b.x8)(n)?"redirected":(0,S.I3)(n)?"notFound":"error",isFetching:!1,error:n,beforeLoadPromise:void 0,loaderPromise:void 0})),!n.routeId&&(n.routeId=o.routeId),null==(r=o.beforeLoadPromise)||r.resolve(),null==(a=o.loaderPromise)||a.resolve(),null==(l=o.loadPromise)||l.resolve(),(0,b.x8)(n))throw s=!0,n=this.resolveRedirect({...n,_fromLocation:t});if((0,S.I3)(n))throw this._handleNotFound(e,n,{updateMatch:i}),n}};try{await new Promise((s,u)=>{(async()=>{var h,c,d;try{let u=(t,o,n)=>{var s,a;let{id:u,routeId:h}=e[t],c=this.looseRoutesById[h];if(o instanceof Promise)throw o;o.routerCode=n,r=r??t,l(this.getMatch(u),o);try{null==(a=(s=c.options).onError)||a.call(s,o)}catch(t){o=t,l(this.getMatch(u),o)}i(u,t=>{var e,n;return null==(e=t.beforeLoadPromise)||e.resolve(),null==(n=t.loadPromise)||n.resolve(),{...t,error:o,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(let[r,{id:s,routeId:l}]of e.entries()){let p=this.getMatch(s),f=null==(h=e[r-1])?void 0:h.id,m=this.looseRoutesById[l],v=m.options.pendingMs??this.options.defaultPendingMs,g=!!(n&&!this.isServer&&!o&&(m.options.loader||m.options.beforeLoad)&&"number"==typeof v&&v!==1/0&&(m.options.pendingComponent??this.options.defaultPendingComponent));if(p.beforeLoadPromise||p.loaderPromise)g&&setTimeout(()=>{try{a()}catch{}},v),await p.beforeLoadPromise;else{try{let n;i(s,t=>({...t,loadPromise:(0,y.M5)(()=>{var e;null==(e=t.loadPromise)||e.resolve()}),beforeLoadPromise:(0,y.M5)()}));let l=new AbortController;g&&(n=setTimeout(()=>{try{a()}catch{}},v));let{paramsError:h,searchError:p}=this.getMatch(s);h&&u(r,h,"PARSE_PARAMS"),p&&u(r,p,"VALIDATE_SEARCH");let _=()=>f?this.getMatch(f).context:this.options.context??{};i(s,t=>({...t,isFetching:"beforeLoad",fetchCount:t.fetchCount+1,abortController:l,pendingTimeout:n,context:{..._(),...t.__routeContext,...t.__beforeLoadContext}}));let{search:w,params:R,context:C,cause:L}=this.getMatch(s),x={search:w,abortController:l,params:R,preload:!!o,context:C,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),buildLocation:this.buildLocation,cause:o?"preload":L,matches:e},M=await (null==(d=(c=m.options).beforeLoad)?void 0:d.call(c,x))??{};this.serializeLoaderData&&(M=this.serializeLoaderData("__beforeLoadContext",M,{router:this,match:this.getMatch(s)})),((0,b.x8)(M)||(0,S.I3)(M))&&u(r,M,"BEFORE_LOAD"),i(s,t=>({...t,__beforeLoadContext:M,context:{..._(),...t.__routeContext,...M},abortController:l}))}catch(t){u(r,t,"BEFORE_LOAD")}i(s,t=>{var e;return null==(e=t.beforeLoadPromise)||e.resolve(),{...t,beforeLoadPromise:void 0,isFetching:!1}})}}let p=e.slice(0,r),f=[];p.forEach(({id:n,routeId:r},s)=>{f.push((async()=>{let{loaderPromise:a}=this.getMatch(n),u=!1;if(a)await a;else{let a=f[s-1],h=this.looseRoutesById[r],c=()=>{let{params:e,loaderDeps:i,abortController:r,context:s,cause:l}=this.getMatch(n);return{params:e,deps:i,preload:!!o,parentMatchPromise:a,abortController:r,context:s,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),cause:o?"preload":l,route:h}},d=Date.now()-this.getMatch(n).updatedAt,p=o?h.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:h.options.staleTime??this.options.defaultStaleTime??0,m=h.options.shouldReload,v="function"==typeof m?m(c()):m;i(n,t=>({...t,loaderPromise:(0,y.M5)(),preload:!!o&&!this.state.matches.find(t=>t.id===n)}));let g=async()=>{var t,o,r,s,a,u,d,p;try{let f=async()=>{let t=this.getMatch(n);t.minPendingPromise&&await t.minPendingPromise};try{void 0===h._lazyPromise&&(h.lazyFn?h._lazyPromise=h.lazyFn().then(t=>{let{id:e,...o}=t.options;Object.assign(h.options,o)}):h._lazyPromise=Promise.resolve()),void 0===h._componentsPromise&&(h._componentsPromise=h._lazyPromise.then(()=>Promise.all(C.map(async t=>{let e=h.options[t];(null==e?void 0:e.preload)&&await e.preload()})))),i(n,t=>({...t,isFetching:"loader"}));let d=await (null==(o=(t=h.options).loader)?void 0:o.call(t,c()));this.serializeLoaderData&&(d=this.serializeLoaderData("loaderData",d,{router:this,match:this.getMatch(n)})),l(this.getMatch(n),d),await h._lazyPromise,await f();let p=null==(s=(r=h.options).meta)?void 0:s.call(r,{matches:e,match:this.getMatch(n),params:this.getMatch(n).params,loaderData:d}),m=null==(u=(a=h.options).headers)?void 0:u.call(a,{loaderData:d});i(n,t=>({...t,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:d,meta:p,headers:m}))}catch(e){let t=e;await f(),l(this.getMatch(n),e);try{null==(p=(d=h.options).onError)||p.call(d,e)}catch(e){t=e,l(this.getMatch(n),e)}i(n,e=>({...e,error:t,status:"error",isFetching:!1}))}await h._componentsPromise}catch(t){l(this.getMatch(n),t)}},{status:_,invalid:S}=this.getMatch(n);u="success"===_&&(S||(v??d>p)),o&&!1===h.options.preload||(u?(async()=>{try{await g()}catch(t){(0,b.ef)(t)&&await this.navigate(t)}})():"success"!==_&&await g());let{loaderPromise:w,loadPromise:R}=this.getMatch(n);null==w||w.resolve(),null==R||R.resolve()}return i(n,t=>({...t,isFetching:!!u&&t.isFetching,loaderPromise:void 0,invalid:!1})),this.getMatch(n)})())}),await Promise.all(f),s()}catch(t){u(t)}})()}),await a()}catch(t){if((0,b.x8)(t)||(0,S.I3)(t))throw(0,S.I3)(t)&&!o&&await a(),t}return e},this.invalidate=t=>{let e=e=>{var o;return(null==(o=null==t?void 0:t.filter)?void 0:o.call(t,e))??!0?{...e,invalid:!0,..."error"===e.status?{status:"pending",error:void 0}:{}}:e};return this.__store.setState(t=>{var o;return{...t,matches:t.matches.map(e),cachedMatches:t.cachedMatches.map(e),pendingMatches:null==(o=t.pendingMatches)?void 0:o.map(e)}}),this.load()},this.resolveRedirect=t=>(!t.href&&(t.href=this.buildLocation(t).href),t),this.clearCache=t=>{let e=null==t?void 0:t.filter;void 0!==e?this.__store.setState(t=>({...t,cachedMatches:t.cachedMatches.filter(t=>!e(t))})):this.__store.setState(t=>({...t,cachedMatches:[]}))},this.clearExpiredCache=()=>{this.clearCache({filter:t=>{let e=this.looseRoutesById[t.routeId];if(!e.options.loader)return!0;let o=(t.preload?e.options.preloadGcTime??this.options.defaultPreloadGcTime:e.options.gcTime??this.options.defaultGcTime)??3e5;return!("error"!==t.status&&Date.now()-t.updatedAt<o)}})},this.preloadRoute=async t=>{let e=this.buildLocation(t),o=this.matchRoutes(e,{throwOnError:!0,preload:!0,dest:t}),n=Object.fromEntries([...this.state.matches,...this.state.pendingMatches??[],...this.state.cachedMatches].map(t=>[t.id,!0]));this.__store.batch(()=>{o.forEach(t=>{!n[t.id]&&this.__store.setState(e=>({...e,cachedMatches:[...e.cachedMatches,t]}))})});let i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(t=>t.id));try{return o=await this.loadMatches({matches:o,location:e,preload:!0,updateMatch:(t,e)=>{i.has(t)?o=o.map(o=>o.id===t?e(o):o):this.updateMatch(t,e)}})}catch(t){if((0,b.x8)(t))return await this.preloadRoute({...t,_fromLocation:e});console.error(t);return}},this.matchRoute=(t,e)=>{let o={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},n=this.buildLocation(o);if((null==e?void 0:e.pending)&&"pending"!==this.state.status)return!1;let i=((null==e?void 0:e.pending)===void 0?!this.state.isLoading:e.pending)?this.latestLocation:this.state.resolvedLocation,r=(0,_.$O)(this.basepath,i.pathname,{...e,to:n.pathname});return!!(r&&(!t.params||(0,y.vZ)(r,t.params,{partial:!0})))&&(r&&((null==e?void 0:e.includeSearch)??!0)?!!(0,y.vZ)(i.search,n.search,{partial:!0})&&r:r)},this.dehydrate=()=>{var t;let e=(null==(t=this.options.errorSerializer)?void 0:t.serialize)??I;return{state:{dehydratedMatches:this.state.matches.map(t=>({...(0,y.ei)(t,["id","status","updatedAt"]),error:t.error?{data:e(t.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var t,e,o;let n;"undefined"!=typeof document&&(n=this.options.transformer.parse(null==(t=window.__TSR__)?void 0:t.dehydrated)),(0,d.Z)(n,"Expected to find a dehydrated data on window.__TSR__.dehydrated... but we did not. Please file an issue!"),this.dehydratedData=n.payload,null==(o=(e=this.options).hydrate)||o.call(e,n.payload);let i=n.router.state,r=this.matchRoutes(this.state.location).map(t=>{let e=i.dehydratedMatches.find(e=>e.id===t.id);return(0,d.Z)(e,`Could not find a client-side match for dehydrated match with id: ${t.id}!`),{...t,...e}});this.__store.setState(t=>({...t,matches:r})),this.manifest=n.router.manifest},this.injectedHtml=[],this.injectHtml=t=>{let e=()=>(this.injectedHtml=this.injectedHtml.filter(t=>t!==e),t);this.injectedHtml.push(e)},this.streamedKeys=new Set,this.getStreamedValue=t=>{var e;if(this.isServer)return;let o=null==(e=window.__TSR__)?void 0:e.streamedValues[t];if(!!o)return!o.parsed&&(o.parsed=this.options.transformer.parse(o.value)),o.parsed},this.streamValue=(t,e)=>{var o;(0,p.Z)(!this.streamedKeys.has(t),"Key has already been streamed: "+t),this.streamedKeys.add(t);let n=`__TSR__.streamedValues['${t}'] = { value: ${null==(o=this.serializer)?void 0:o.call(this,this.options.transformer.stringify(e))}}`;this.injectHtml(`<script class='tsr-once'>${n}; __TSR__.cleanScripts()</script>`)},this._handleNotFound=(t,e,{updateMatch:o=this.updateMatch}={})=>{let n=Object.fromEntries(t.map(t=>[t.routeId,t])),i=(e.global?this.looseRoutesById[f.B]:this.looseRoutesById[e.routeId])||this.looseRoutesById[f.B];for(;!i.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&i.id!==f.B;)i=i.parentRoute,(0,d.Z)(i,"Found invalid route tree while trying to find not-found handler.");let r=n[i.id];(0,d.Z)(r,"Could not find match for route: "+i.id),o(r.id,t=>({...t,status:"notFound",error:e,isFetching:!1})),"BEFORE_LOAD"===e.routerCode&&i.parentRoute&&(e.routeId=i.parentRoute.id,this._handleNotFound(t,e,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>"notFound"===t.status||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??g,parseSearch:t.parseSearch??v,transformer:t.transformer??w}),"undefined"!=typeof document&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,e,o){return"string"==typeof t?this.matchRoutesInternal({pathname:t,search:e},o):this.matchRoutesInternal(t,e)}matchRoutesInternal(t,e){let{foundRoute:o,matchedRoutes:n,routeParams:i}=this.getMatchedRoutes(t,null==e?void 0:e.dest),r=!1;(o?"/"!==o.path&&i["**"]:(0,_.zk)(t.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):r=!0);let s=(()=>{if(!!r){if("root"!==this.options.notFoundMode)for(let t=n.length-1;t>=0;t--){let e=n[t];if(e.children)return e.id}return f.B}})(),a=n.map(t=>{var o;let n;let r=(null==(o=t.options.params)?void 0:o.parse)??t.options.parseParams;if(r)try{let t=r(i);Object.assign(i,t)}catch(t){if(n=new E(t.message,{cause:t}),null==e?void 0:e.throwOnError)throw n;return n}}),l=[];return n.forEach((o,n)=>{var r,u,h,c,d,p,f,m,v,g,b,S;let w;let R=l[n-1],[x,M]=(()=>{let n=(null==R?void 0:R.search)??t.search;try{let t=L(o.options.validateSearch,n)??{};return[{...n,...t},void 0]}catch(o){let t=new P(o.message,{cause:o});if(null==e?void 0:e.throwOnError)throw t;return[n,t]}})(),E=(null==(u=(r=o.options).loaderDeps)?void 0:u.call(r,{search:x}))??"",I=E?JSON.stringify(E):"",j=(0,_.sk)({path:o.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),F=(0,_.sk)({path:o.id,params:i,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+I,O=this.getMatch(F),k=this.state.matches.find(t=>t.id===F)?"stay":"enter";if(O)w={...O,cause:k,params:i};else{let t=o.options.loader||o.options.beforeLoad||o.lazyFn||function(t){var e;for(let o of C)if(null==(e=t.options[o])?void 0:e.preload)return!0;return!1}(o)?"pending":"success";w={id:F,index:n,routeId:o.id,params:i,pathname:(0,_.RQ)([this.basepath,j]),updatedAt:Date.now(),search:{},searchError:void 0,status:t,isFetching:!1,error:void 0,paramsError:a[n],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:k,loaderDeps:E,invalid:!1,preload:!1,links:null==(c=(h=o.options).links)?void 0:c.call(h),scripts:null==(p=(d=o.options).scripts)?void 0:p.call(d),staticData:o.options.staticData||{},loadPromise:(0,y.M5)(),fullPath:o.fullPath}}"success"===w.status&&(w.meta=null==(m=(f=o.options).meta)?void 0:m.call(f,{matches:l,match:w,params:w.params,loaderData:w.loaderData}),w.headers=null==(g=(v=o.options).headers)?void 0:g.call(v,{loaderData:w.loaderData})),!(null==e?void 0:e.preload)&&(w.globalNotFound=s===o.id),w.search=(0,y.Q$)(w.search,x),w.searchError=M;let T=(null==R?void 0:R.id)?R.context??this.options.context??{}:this.options.context??{};if(w.context={...T,...w.__routeContext,...w.__beforeLoadContext},!O&&(null==e?void 0:e._buildLocation)!==!0){let e={deps:E,params:w.params,context:w.context,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),buildLocation:this.buildLocation,cause:w.cause,abortController:w.abortController,preload:!!w.preload,matches:l};w.__routeContext=(null==(S=(b=o.options).context)?void 0:S.call(b,e))??{},w.context={...T,...w.__routeContext,...w.__beforeLoadContext}}l.push(w)}),l}}class P extends Error{}class E extends Error{}function I(t){if(t instanceof Error){let e={name:t.name,message:t.message};return e}return{data:t}}},1939:function(t,e,o){o.d(e,{v:function(){return i}});let n=o(7294).createContext(null);function i(){return"undefined"==typeof document?n:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=n,n)}},2699:function(t,e,o){o.d(e,{O:function(){return i}});var n=o(4e3);function i(t){return(0,n.b)({...t,select:e=>"function"==typeof t.select?t.select(e.loaderData):e.loaderData})}},9179:function(t,e,o){o.d(e,{M:function(){return i}});var n=o(4e3);function i(t){return(0,n.b)({...t,select:e=>"function"==typeof t.select?t.select(e.loaderDeps):e.loaderDeps})}},4e3:function(t,e,o){o.d(e,{b:function(){return a}});var n=o(7294),i=o(1835),r=o(2570),s=o(2099);function a(t){let e=n.useContext(s.i);return(0,r.z)({select:o=>{let n=o.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if((0,i.Z)(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),void 0!==n)return t.select?t.select(n):n}})}},6619:function(t,e,o){o.d(e,{s:function(){return r}});var n=o(7294),i=o(3635);function r(t){let{navigate:e}=(0,i.t)();return n.useCallback(t=>e({...t}),[e])}},1387:function(t,e,o){o.d(e,{U:function(){return i}});var n=o(4e3);function i(t){return(0,n.b)({...t,select:e=>t.select?t.select(e.params):e.params})}},3635:function(t,e,o){o.d(e,{t:function(){return s}});var n=o(7294),i=o(5298),r=o(1939);function s(t){let e=n.useContext((0,r.v)());return(0,i.Z)(!(((null==t?void 0:t.warn)??!0)&&!e),"useRouter must be used inside a <RouterProvider> component!"),e}},2570:function(t,e,o){o.d(e,{z:()=>s});var n=o("2798");function i(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;let o=Object.keys(t);if(o.length!==Object.keys(e).length)return!1;for(let n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(e,o[n])||!Object.is(t[o[n]],e[o[n]]))return!1;return!0}var r=o("3635");function s(t){let e=(0,r.t)({warn:(null==t?void 0:t.router)===void 0});return function(t,e=t=>t){return(0,n.useSyncExternalStoreWithSelector)(t.subscribe,()=>t.state,()=>t.state,e,i)}(((null==t?void 0:t.router)||e).__store,null==t?void 0:t.select)}},5437:function(t,e,o){o.d(e,{R:function(){return i}});var n=o(4e3);function i(t){return(0,n.b)({...t,select:e=>t.select?t.select(e.search):e.search})}},3091:function(t,e,o){o.d(e,{D9:function(){return p},M5:function(){return d},PO:function(){return a},Q$:function(){return function t(e,o){if(e===o)return e;let n=u(e)&&u(o);if(n||a(e)&&a(o)){let i=n?e:Object.keys(e),r=i.length,s=n?o:Object.keys(o),a=s.length,l=n?[]:{},u=0;for(let r=0;r<a;r++){let a=n?r:s[r];(!n&&i.includes(a)||n)&&void 0===e[a]&&void 0===o[a]?(l[a]=void 0,u++):(l[a]=t(e[a],o[a]),l[a]===e[a]&&void 0!==e[a]&&u++)}return r===a&&u===r?e:l}return o}},SE:function(){return r},Z$:function(){return i},bt:function(){return c},ei:function(){return s},vZ:function(){return function t(e,o,n){if(e===o)return!0;if(typeof e!=typeof o)return!1;if(a(e)&&a(o)){let i=(null==n?void 0:n.ignoreUndefined)??!0,r=h(e,i),s=h(o,i);return((null==n?!!void 0:!!n.partial)||r.length===s.length)&&s.every(i=>t(e[i],o[i],n))}if(Array.isArray(e)&&Array.isArray(o))return e.length===o.length&&!e.some((e,i)=>!t(e,o[i],n));return!1}}});var n=o(7294);function i(t){return t[t.length-1]}function r(t,e){return"function"==typeof t?t(e):t}function s(t,e){return e.reduce((e,o)=>(e[o]=t[o],e),{})}function a(t){if(!l(t))return!1;let e=t.constructor;if(void 0===e)return!0;let o=e.prototype;return!!(l(o)&&o.hasOwnProperty("isPrototypeOf"))||!1}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function h(t,e){let o=Object.keys(t);return e&&(o=o.filter(e=>void 0!==t[e])),o}let c="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function d(t){let e,o;let n=new Promise((t,n)=>{e=t,o=n});return n.status="pending",n.resolve=o=>{n.status="resolved",n.value=o,e(o),null==t||t(o)},n.reject=t=>{n.status="rejected",o(t)},n}function p(t){let e=n.useRef({value:t,prev:null}),o=e.current.value;return t!==o&&(e.current={value:t,prev:o}),e.current.prev}},1835:function(t,e,o){o.d(e,{Z:function(){return i}});var n="Invariant failed";function i(t,e){var o;if(!t)throw Error(n)}}}]);
/*! For license information please see 631.1bf98c75.js.LICENSE.txt */
"use strict";(self.webpackChunkform_crafter=self.webpackChunkform_crafter||[]).push([["631"],{5298:function(t,e,i){i.d(e,{Z:function(){return r}});let r=function(t,e){var i,r}},83:function(t,e,i){var r=i(7294),n="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!n(t,i)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var i=e(),r=s({inst:{value:i,getSnapshot:e}}),n=r[0].inst,c=r[1];return a(function(){n.value=i,n.getSnapshot=e,l(n)&&c({inst:n})},[t,i,e]),o(function(){return l(n)&&c({inst:n}),t(function(){l(n)&&c({inst:n})})},[t]),u(i),i};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},6251:function(t,e,i){var r=i(7294),n=i(1688),s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=n.useSyncExternalStore,a=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,i,r,n){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=o(t,(h=l(function(){function t(t){if(!u){if(u=!0,o=t,t=r(t),void 0!==n&&d.hasValue){var e=d.value;if(n(e,t))return a=e}return a=t}if(e=a,s(o,t))return e;var i=r(t);return void 0!==n&&n(e,i)?(o=t,e):(o=t,a=i)}var o,a,u=!1,l=void 0===i?null:i;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]},[e,i,r,n]))[0],h[1]);return u(function(){d.hasValue=!0,d.value=f},[f]),c(f),f}},1688:function(t,e,i){t.exports=i(83)},2798:function(t,e,i){t.exports=i(6251)},1037:function(t,e,i){i.d(e,{j:function(){return s}});var r=i(3562),n=i(9982),s=new class extends r.l{#t;#e;#i;constructor(){super(),this.#i=t=>{if(!n.sk&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){!this.#e&&this.setEventListener(this.#i)}onUnsubscribe(){!this.hasListeners()&&(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#i=t,this.#e?.(),this.#e=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#t?this.#t:globalThis.document?.visibilityState!=="hidden"}}},1307:function(t,e,i){i.d(e,{R:function(){return a},m:function(){return o}});var r=i(3242),n=i(5369),s=i(4031),o=class extends n.F{#r;#n;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#r=[],this.state=t.state||a(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){!this.#r.includes(t)&&(this.#r.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#r=this.#r.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){!this.#r.length&&("pending"===this.state.status?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){this.#s=(0,s.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#o({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});let e="pending"===this.state.status,i=!this.#s.canStart();try{if(!e){this.#o({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#o({type:"pending",context:e,variables:t,isPaused:i})}let r=await this.#s.start();return await this.#n.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#n.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#o({type:"success",data:r}),r}catch(e){try{throw await this.#n.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#n.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#o({type:"error",error:e})}}finally{this.#n.runNext(this)}}#o(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),r.V.batch(()=>{this.#r.forEach(e=>{e.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},3242:function(t,e,i){i.d(e,{V:function(){return r}});var r=function(){let t=[],e=0,i=t=>{t()},r=t=>{t()},n=t=>setTimeout(t,0),s=r=>{e?t.push(r):n(()=>{i(r)})},o=()=>{let e=t;t=[],e.length&&n(()=>{r(()=>{e.forEach(t=>{i(t)})})})};return{batch:t=>{let i;e++;try{i=t()}finally{!--e&&o()}return i},batchCalls:t=>(...e)=>{s(()=>{t(...e)})},schedule:s,setNotifyFunction:t=>{i=t},setBatchNotifyFunction:t=>{r=t},setScheduler:t=>{n=t}}}()},2226:function(t,e,i){i.d(e,{N:function(){return s}});var r=i(3562),n=i(9982),s=new class extends r.l{#a=!0;#e;#i;constructor(){super(),this.#i=t=>{if(!n.sk&&window.addEventListener){let e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}}}onSubscribe(){!this.#e&&this.setEventListener(this.#i)}onUnsubscribe(){!this.hasListeners()&&(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#i=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#a!==t&&(this.#a=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#a}}},4424:function(t,e,i){i.d(e,{A:function(){return a},z:function(){return u}});var r=i(9982),n=i(3242),s=i(4031),o=i(5369),a=class extends o.F{#u;#l;#c;#s;#h;#d;constructor(t){super(),this.#d=!1,this.#h=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#c=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#u=function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,i=void 0!==e,r=i?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#u,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#h,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&"idle"===this.state.fetchStatus&&this.#c.remove(this)}setData(t,e){let i=(0,r.oE)(this.state.data,t,this.options);return this.#o({data:i,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),i}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(r.ZT).catch(r.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#u)}isActive(){return this.observers.some(t=>!1!==(0,r.Nc)(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r.CN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,r.Kp)(this.state.dataUpdatedAt,t)}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){!this.observers.includes(t)&&(this.observers.push(t),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),!this.observers.length&&(this.#s&&(this.#d?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){!this.state.isInvalidated&&this.#o({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let i=new AbortController,n=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#d=!0,i.signal)})},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{let t=(0,r.cG)(this.options,e),i={queryKey:this.queryKey,meta:this.meta};return(n(i),this.#d=!1,this.options.persister)?this.options.persister(t,i,this):t(i)}};n(o),this.options.behavior?.onFetch(o,this),this.#l=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});let a=t=>{!((0,s.DV)(t)&&t.silent)&&this.#o({type:"error",error:t}),!(0,s.DV)(t)&&(this.#c.config.onError?.(t,this),this.#c.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#s=(0,s.Mz)({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:t=>{if(void 0===t){a(Error(`${this.queryHash} data is undefined`));return}try{this.setData(t)}catch(t){a(t);return}this.#c.config.onSuccess?.(t,this),this.#c.config.onSettled?.(t,this.state.error,this),this.scheduleGc()},onError:a,onFail:(t,e)=>{this.#o({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#o(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...u(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=t.error;if((0,s.DV)(i)&&i.revert&&this.#l)return{...this.#l,fetchStatus:"idle"};return{...e,error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),n.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:t})})}};function u(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.Kw)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}},388:function(t,e,i){i.d(e,{S:()=>v});var r=i("9982"),n=i("4424"),s=i("3242"),o=i("3562"),a=class extends o.l{constructor(t={}){super(),this.config=t,this.#f=new Map}#f;build(t,e,i){let s=e.queryKey,o=e.queryHash??(0,r.Rm)(s,e),a=this.get(o);return!a&&(a=new n.A({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){!this.#f.has(t.queryHash)&&(this.#f.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#f.get(t.queryHash);e&&(t.destroy(),e===t&&this.#f.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){s.V.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#f.get(t)}getAll(){return[...this.#f.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,r._x)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,r._x)(t,e)):e}notify(t){s.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){s.V.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){s.V.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},u=i("1307"),l=class extends o.l{constructor(t={}){super(),this.config=t,this.#p=new Set,this.#m=new Map,this.#v=0}#p;#m;#v;build(t,e,i){let r=new u.m({mutationCache:this,mutationId:++this.#v,options:t.defaultMutationOptions(e),state:i});return this.add(r),r}add(t){this.#p.add(t);let e=c(t);if("string"==typeof e){let i=this.#m.get(e);i?i.push(t):this.#m.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#p.delete(t)){let e=c(t);if("string"==typeof e){let i=this.#m.get(e);if(i){if(i.length>1){let e=i.indexOf(t);-1!==e&&i.splice(e,1)}else i[0]===t&&this.#m.delete(e)}}}this.notify({type:"removed",mutation:t})}canRun(t){let e=c(t);if("string"!=typeof e)return!0;{let i=this.#m.get(e),r=i?.find(t=>"pending"===t.state.status);return!r||r===t}}runNext(t){let e=c(t);if("string"!=typeof e)return Promise.resolve();{let i=this.#m.get(e)?.find(e=>e!==t&&e.state.isPaused);return i?.continue()??Promise.resolve()}}clear(){s.V.batch(()=>{this.#p.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#p.clear(),this.#m.clear()})}getAll(){return Array.from(this.#p)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,r.X7)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,r.X7)(t,e))}notify(t){s.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return s.V.batch(()=>Promise.all(t.map(t=>t.continue().catch(r.ZT))))}};function c(t){return t.options.scope?.id}var h=i("1037"),d=i("2226");function f(t){return{onFetch:(e,i)=>{let n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],a=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},l=0,c=async()=>{let i=!1,c=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?i=!0:e.signal.addEventListener("abort",()=>{i=!0}),e.signal)})},h=(0,r.cG)(e.options,e.fetchOptions),d=async(t,n,s)=>{if(i)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);let o={queryKey:e.queryKey,pageParam:n,direction:s?"backward":"forward",meta:e.options.meta};c(o);let a=await h(o),{maxPages:u}=e.options,l=s?r.Ht:r.VX;return{pages:l(t.pages,a,u),pageParams:l(t.pageParams,n,u)}};if(s&&o.length){let t="backward"===s,e={pages:o,pageParams:a},i=(t?m:p)(n,e);u=await d(e,i,t)}else{let e=t??o.length;do{let t=0===l?a[0]??n.initialPageParam:p(n,u);if(l>0&&null==t)break;u=await d(u,t),l++}while(l<e)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},i):e.fetchFn=c}}}function p(t,{pages:e,pageParams:i}){let r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,i[r],i):void 0}function m(t,{pages:e,pageParams:i}){return e.length>0?t.getPreviousPageParam?.(e[0],e,i[0],i):void 0}var v=class{#y;#n;#h;#g;#b;#S;#w;#C;constructor(t={}){this.#y=t.queryCache||new a,this.#n=t.mutationCache||new l,this.#h=t.defaultOptions||{},this.#g=new Map,this.#b=new Map,this.#S=0}mount(){this.#S++,1===this.#S&&(this.#w=h.j.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#y.onFocus())}),this.#C=d.N.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#y.onOnline())}))}unmount(){this.#S--,0===this.#S&&(this.#w?.(),this.#w=void 0,this.#C?.(),this.#C=void 0)}isFetching(t){return this.#y.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#y.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),i=this.#y.build(this,e),n=i.state.data;return void 0===n?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime((0,r.KC)(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#y.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,i){let n=this.defaultQueryOptions({queryKey:t}),s=this.#y.get(n.queryHash),o=s?.state.data,a=(0,r.SE)(e,o);if(void 0!==a)return this.#y.build(this,n).setData(a,{...i,manual:!0})}setQueriesData(t,e,i){return s.V.batch(()=>this.#y.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,i)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#y.get(e.queryHash)?.state}removeQueries(t){let e=this.#y;s.V.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let i=this.#y,r={type:"active",...t};return s.V.batch(()=>(i.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){let i={revert:!0,...e};return Promise.all(s.V.batch(()=>this.#y.findAll(t).map(t=>t.cancel(i)))).then(r.ZT).catch(r.ZT)}invalidateQueries(t,e={}){return s.V.batch(()=>{if(this.#y.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")return Promise.resolve();let i={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(i,e)})}refetchQueries(t,e={}){let i={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(s.V.batch(()=>this.#y.findAll(t).filter(t=>!t.isDisabled()).map(t=>{let e=t.fetch(void 0,i);return!i.throwOnError&&(e=e.catch(r.ZT)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(r.ZT)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let i=this.#y.build(this,e);return i.isStaleByTime((0,r.KC)(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(r.ZT).catch(r.ZT)}fetchInfiniteQuery(t){return t.behavior=f(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(r.ZT).catch(r.ZT)}ensureInfiniteQueryData(t){return t.behavior=f(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return d.N.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#y}getMutationCache(){return this.#n}getDefaultOptions(){return this.#h}setDefaultOptions(t){this.#h=t}setQueryDefaults(t,e){this.#g.set((0,r.Ym)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#g.values()],i={};return e.forEach(e=>{(0,r.to)(t,e.queryKey)&&Object.assign(i,e.defaultOptions)}),i}setMutationDefaults(t,e){this.#b.set((0,r.Ym)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#b.values()],i={};return e.forEach(e=>{(0,r.to)(t,e.mutationKey)&&(i={...i,...e.defaultOptions})}),i}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#h.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return!e.queryHash&&(e.queryHash=(0,r.Rm)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===r.CN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#h.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#y.clear(),this.#n.clear()}}},5369:function(t,e,i){i.d(e,{F:function(){return n}});var r=i(9982),n=class{#R;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.PN)(this.gcTime)&&(this.#R=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(r.sk?1/0:3e5))}clearGcTimeout(){this.#R&&(clearTimeout(this.#R),this.#R=void 0)}}},4031:function(t,e,i){i.d(e,{DV:function(){return c},Kw:function(){return u},Mz:function(){return h}});var r=i(1037),n=i(2226),s=i(2329),o=i(9982);function a(t){return Math.min(1e3*2**t,3e4)}function u(t){return(t??"online")!=="online"||n.N.isOnline()}var l=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function c(t){return t instanceof l}function h(t){let e,i=!1,c=0,h=!1,d=(0,s.O)(),f=()=>r.j.isFocused()&&("always"===t.networkMode||n.N.isOnline())&&t.canRun(),p=()=>u(t.networkMode)&&t.canRun(),m=i=>{!h&&(h=!0,t.onSuccess?.(i),e?.(),d.resolve(i))},v=i=>{!h&&(h=!0,t.onError?.(i),e?.(),d.reject(i))},y=()=>new Promise(i=>{e=t=>{(h||f())&&i(t)},t.onPause?.()}).then(()=>{e=void 0,!h&&t.onContinue?.()}),g=()=>{let e;if(h)return;let r=0===c?t.initialPromise:void 0;try{e=r??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(m).catch(e=>{if(h)return;let r=t.retry??(o.sk?0:3),n=t.retryDelay??a,s="function"==typeof n?n(c,e):n,u=!0===r||"number"==typeof r&&c<r||"function"==typeof r&&r(c,e);if(i||!u){v(e);return}c++,t.onFail?.(c,e),(0,o._v)(s).then(()=>f()?void 0:y()).then(()=>{i?v(e):g()})})};return{promise:d,cancel:e=>{!h&&(v(new l(e)),t.abort?.())},continue:()=>(e?.(),d),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:p,start:()=>(p()?g():y().then(g),d)}}},3562:function(t,e,i){i.d(e,{l:function(){return r}});var r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},2329:function(t,e,i){i.d(e,{O:function(){return r}});function r(){let t,e;let i=new Promise((i,r)=>{t=i,e=r});function r(t){Object.assign(i,t),delete i.resolve,delete i.reject}return i.status="pending",i.catch(()=>{}),i.resolve=e=>{r({status:"fulfilled",value:e}),t(e)},i.reject=t=>{r({status:"rejected",reason:t}),e(t)},i}},9982:function(t,e,i){i.d(e,{CN:function(){return R},Ht:function(){return C},KC:function(){return u},Kp:function(){return a},Nc:function(){return l},PN:function(){return o},Rm:function(){return d},SE:function(){return s},VS:function(){return m},VX:function(){return w},X7:function(){return h},Ym:function(){return f},ZT:function(){return n},_v:function(){return b},_x:function(){return c},cG:function(){return _},oE:function(){return S},sk:function(){return r},to:function(){return p}});var r="undefined"==typeof window||"Deno"in globalThis;function n(){}function s(t,e){return"function"==typeof t?t(e):t}function o(t){return"number"==typeof t&&t>=0&&t!==1/0}function a(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u(t,e){return"function"==typeof t?t(e):t}function l(t,e){return"function"==typeof t?t(e):t}function c(t,e){let{type:i="all",exact:r,fetchStatus:n,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==d(o,e.options))return!1}else if(!p(e.queryKey,o))return!1}if("all"!==i){let t=e.isActive();if("active"===i&&!t||"inactive"===i&&t)return!1}return("boolean"!=typeof a||e.isStale()===a)&&(!n||n===e.state.fetchStatus)&&(!s||!!s(e))&&!0}function h(t,e){let{exact:i,status:r,predicate:n,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(i){if(f(e.options.mutationKey)!==f(s))return!1}else if(!p(e.options.mutationKey,s))return!1}return(!r||e.state.status===r)&&(!n||!!n(e))&&!0}function d(t,e){return(e?.queryKeyHashFn||f)(t)}function f(t){return JSON.stringify(t,(t,e)=>y(e)?Object.keys(e).sort().reduce((t,i)=>(t[i]=e[i],t),{}):e)}function p(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&!Object.keys(e).some(i=>!p(t[i],e[i]))}function m(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let i in t)if(t[i]!==e[i])return!1;return!0}function v(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function y(t){if(!g(t))return!1;let e=t.constructor;if(void 0===e)return!0;let i=e.prototype;return!!(g(i)&&i.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(t)===Object.prototype||!1}function g(t){return"[object Object]"===Object.prototype.toString.call(t)}function b(t){return new Promise(e=>{setTimeout(e,t)})}function S(t,e,i){return"function"==typeof i.structuralSharing?i.structuralSharing(t,e):!1!==i.structuralSharing?function t(e,i){if(e===i)return e;let r=v(e)&&v(i);if(r||y(e)&&y(i)){let n=r?e:Object.keys(e),s=n.length,o=r?i:Object.keys(i),a=o.length,u=r?[]:{},l=0;for(let s=0;s<a;s++){let a=r?s:o[s];(!r&&n.includes(a)||r)&&void 0===e[a]&&void 0===i[a]?(u[a]=void 0,l++):(u[a]=t(e[a],i[a]),u[a]===e[a]&&void 0!==e[a]&&l++)}return s===a&&l===s?e:u}return i}(t,e):e}function w(t,e,i=0){let r=[...t,e];return i&&r.length>i?r.slice(1):r}function C(t,e,i=0){let r=[e,...t];return i&&r.length>i?r.slice(0,-1):r}var R=Symbol();function _(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==R?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}},9469:function(t,e,i){i.d(e,{NL:function(){return o},aH:function(){return a}});var r=i(7294),n=i(5893),s=r.createContext(void 0),o=t=>{let e=r.useContext(s);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},a=({client:t,children:e})=>(r.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,n.jsx)(s.Provider,{value:t,children:e}))},7464:function(t,e,i){i.d(e,{M:function(){return s},q:function(){return a}});var r=i(5893),n=i(7294);function s(t){let e=t.errorComponent??a;return(0,r.jsx)(o,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:i,reset:r})=>i?n.createElement(e,{error:i,reset:r}):t.children})}class o extends n.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,e){this.props.onCatch&&this.props.onCatch(t,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function a({error:t}){let[e,i]=n.useState(!1);return(0,r.jsxs)("div",{style:{padding:".5rem",maxWidth:"100%"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[(0,r.jsx)("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),(0,r.jsx)("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>i(t=>!t),children:e?"Hide Error":"Show Error"})]}),(0,r.jsx)("div",{style:{height:".25rem"}}),e?(0,r.jsx)("div",{children:(0,r.jsx)("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?(0,r.jsx)("code",{children:t.message}):null})}):null]})}},9044:function(t,e,i){i.d(e,{j3:()=>w,qE:()=>b});var r=i("5893"),n=i("7294"),s=i("1835"),o=i("5298"),a=i("7464"),u=i("2570"),l=i("3635"),c=i("3091"),h=i("6346"),d=i("8239"),f=i("2099");function p(t){return"object"==typeof t&&!!t&&"data"in t&&"__isServerError"in t&&!!t.__isServerError&&"object"==typeof t.data&&!!t.data&&!0===t.__isServerError}function m(t){if("name"in t&&"message"in t){let e=Error(t.message);return e.name=t.name,e}return t.data}var v=i("6845");function y(t,e,i){if(!e.options.notFoundComponent)return t.options.defaultNotFoundComponent?(0,r.jsx)(t.options.defaultNotFoundComponent,{data:i}):(0,r.jsx)(h.Eq,{});return(0,r.jsx)(e.options.notFoundComponent,{data:i})}var g=i("4073");let b=n.memo(function({matchId:t}){var e,i;let c=(0,l.t)(),d=(0,u.z)({select:e=>{var i;return null==(i=e.matches.find(e=>e.id===t))?void 0:i.routeId}});(0,s.Z)(d,`Could not find routeId for matchId "${t}". Please file an issue!`);let p=c.routesById[d],m=p.options.pendingComponent??c.options.defaultPendingComponent,y=m?(0,r.jsx)(m,{}):null,g=p.options.errorComponent??c.options.defaultErrorComponent,b=p.options.onCatch??c.options.defaultOnCatch,w=p.isRoot?p.options.notFoundComponent??(null==(e=c.options.notFoundRoute)?void 0:e.options.component):p.options.notFoundComponent,C=(!p.isRoot||p.options.wrapInSuspense)&&(p.options.wrapInSuspense??m??(null==(i=p.options.errorComponent)?void 0:i.preload))?n.Suspense:v.R,R=g?a.M:v.R,_=w?h.C0:v.R,P=(0,u.z)({select:t=>t.loadedAt});return(0,r.jsx)(f.i.Provider,{value:t,children:(0,r.jsx)(C,{fallback:y,children:(0,r.jsx)(R,{getResetKey:()=>P,errorComponent:g||a.q,onCatch:(e,i)=>{if((0,h.I3)(e))throw e;(0,o.Z)(!1,`Error in route match: ${t}`),null==b||b(e,i)},children:(0,r.jsx)(_,{fallback:t=>{if(!w||t.routeId&&t.routeId!==d||!t.routeId&&!p.isRoot)throw t;return n.createElement(w,t)},children:(0,r.jsx)(S,{matchId:t})})})})})}),S=n.memo(function({matchId:t}){var e,i,o,f,v;let g=(0,l.t)(),{match:b,matchIndex:S,routeId:C}=(0,u.z)({select:e=>{let i=e.matches.findIndex(e=>e.id===t),r=e.matches[i];return{routeId:r.routeId,matchIndex:i,match:(0,c.ei)(r,["id","status","error"])}},structuralSharing:!0}),R=g.routesById[C],_=n.useMemo(()=>{let t=R.options.component??g.options.defaultComponent;return t?(0,r.jsx)(t,{}):(0,r.jsx)(w,{})},[R.options.component,g.options.defaultComponent]),P=(R.options.errorComponent??g.options.defaultErrorComponent)||a.q;if("notFound"===b.status){let t;return t=p(b.error)?((null==(e=g.options.errorSerializer)?void 0:e.deserialize)??m)(b.error.data):b.error,(0,s.Z)((0,h.I3)(t),"Expected a notFound error"),y(g,R,t)}if("redirected"===b.status)throw(0,s.Z)((0,d.x8)(b.error),"Expected a redirect error"),null==(i=g.getMatch(b.id))?void 0:i.loadPromise;if("error"===b.status){if(g.isServer)return(0,r.jsx)(P,{error:b.error,info:{componentStack:""}});if(p(b.error))throw((null==(o=g.options.errorSerializer)?void 0:o.deserialize)??m)(b.error.data);throw b.error}if("pending"===b.status){let t=R.options.pendingMinMs??g.options.defaultPendingMinMs;if(t&&!(null==(f=g.getMatch(b.id))?void 0:f.minPendingPromise)&&!g.isServer){let e=(0,c.M5)();Promise.resolve().then(()=>{g.updateMatch(b.id,t=>({...t,minPendingPromise:e}))}),setTimeout(()=>{e.resolve(),g.updateMatch(b.id,t=>({...t,minPendingPromise:void 0}))},t)}throw null==(v=g.getMatch(b.id))?void 0:v.loadPromise}return(0,r.jsxs)(r.Fragment,{children:[_,g.AfterEachMatch?(0,r.jsx)(g.AfterEachMatch,{match:b,matchIndex:S}):null]})}),w=n.memo(function(){let t=(0,l.t)(),e=n.useContext(f.i),i=(0,u.z)({select:t=>{var i;return null==(i=t.matches.find(t=>t.id===e))?void 0:i.routeId}}),o=t.routesById[i],a=(0,u.z)({select:t=>{let i=t.matches.find(t=>t.id===e);return(0,s.Z)(i,`Could not find parent match for matchId "${e}"`),i.globalNotFound}}),c=(0,u.z)({select:t=>{var i;let r=t.matches,n=r.findIndex(t=>t.id===e);return null==(i=r[n+1])?void 0:i.id}});if(a)return y(t,o,void 0);if(!c)return null;let h=(0,r.jsx)(b,{matchId:c}),d=t.options.defaultPendingComponent?(0,r.jsx)(t.options.defaultPendingComponent,{}):null;return e===g.B?(0,r.jsx)(n.Suspense,{fallback:d,children:h}):h})},8453:function(t,e,i){i.d(e,{p:()=>b});var r=i("5893"),n=i("7294"),s=i("5298"),o=i("7464"),a=i("2570"),u=i("3635"),l=i("3091"),c=i("7111");function h(){let t=(0,u.t)(),e=n.useRef({router:t,mounted:!1}),i=(0,a.z)({select:({isLoading:t})=>t}),[r,s]=n.useState(!1),o=(0,a.z)({select:t=>t.matches.some(t=>"pending"===t.status),structuralSharing:!0}),h=(0,l.D9)(i),d=i||r||o,f=(0,l.D9)(d),p=i||o,m=(0,l.D9)(p);return!t.isServer&&(t.startReactTransition=t=>{s(!0),n.startTransition(()=>{t(),s(!1)})}),n.useEffect(()=>{let e=t.history.subscribe(t.load),i=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return(0,c.zk)(t.latestLocation.href)!==(0,c.zk)(i.href)&&t.commitLocation({...i,replace:!0}),()=>{e()}},[t,t.history]),(0,l.bt)(()=>{var i;if(("undefined"==typeof window||(null==(i=window.__TSR__)?!void 0:!i.dehydrated))&&(e.current.router!==t||!e.current.mounted))e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(t){console.error(t)}})()},[t]),(0,l.bt)(()=>{if(h&&!i){let e=t.state.location,i=t.state.resolvedLocation,r=i.pathname!==e.pathname,n=i.href!==e.href;t.emit({type:"onLoad",fromLocation:i,toLocation:e,pathChanged:r,hrefChanged:n})}},[h,t,i]),(0,l.bt)(()=>{if(m&&!p){let e=t.state.location,i=t.state.resolvedLocation,r=i.pathname!==e.pathname,n=i.href!==e.href;t.emit({type:"onBeforeRouteMount",fromLocation:i,toLocation:e,pathChanged:r,hrefChanged:n})}},[p,m,t]),(0,l.bt)(()=>{if(f&&!d){let e=t.state.location,i=t.state.resolvedLocation,r=i.pathname!==e.pathname,n=i.href!==e.href;if(t.emit({type:"onResolved",fromLocation:i,toLocation:e,pathChanged:r,hrefChanged:n}),t.__store.setState(t=>({...t,status:"idle",resolvedLocation:t.location})),"undefined"!=typeof document&&document.querySelector){let e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&""!==t.state.location.hash){let i=document.getElementById(t.state.location.hash);i&&i.scrollIntoView(e)}}}},[d,f,t]),null}var d=i("2099"),f=i("9044"),p=i("6845");function m(){let t=(0,u.t)(),e=t.options.defaultPendingComponent?(0,r.jsx)(t.options.defaultPendingComponent,{}):null,i=t.isServer||"undefined"!=typeof document&&window.__TSR__?p.R:n.Suspense,s=(0,r.jsxs)(i,{fallback:e,children:[(0,r.jsx)(h,{}),(0,r.jsx)(v,{})]});return t.options.InnerWrap?(0,r.jsx)(t.options.InnerWrap,{children:s}):s}function v(){let t=(0,a.z)({select:t=>{var e;return null==(e=t.matches[0])?void 0:e.id}}),e=(0,a.z)({select:t=>t.loadedAt});return(0,r.jsx)(d.i.Provider,{value:t,children:(0,r.jsx)(o.M,{getResetKey:()=>e,errorComponent:o.q,onCatch:t=>{(0,s.Z)(!1,"The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!"),(0,s.Z)(!1,t.message||t.toString())},children:t?(0,r.jsx)(f.qE,{matchId:t}):null})})}var y=i("1939");function g({router:t,children:e,...i}){t.update({...t.options,...i,context:{...t.options.context,...i.context}});let n=(0,y.v)(),s=(0,r.jsx)(n.Provider,{value:t,children:e});return t.options.Wrap?(0,r.jsx)(t.options.Wrap,{children:s}):s}function b({router:t,...e}){return(0,r.jsx)(g,{router:t,...e,children:(0,r.jsx)(m,{})})}},6845:function(t,e,i){i.d(e,{R:function(){return n}});var r=i(5893);function n(t){return(0,r.jsx)(r.Fragment,{children:t.children})}},9627:function(t,e,i){i.d(e,{f2:function(){return h},k0:function(){return p}});var r=i(5298),n=i(5416),s=i(4e3),o=i(9179),a=i(2699),u=i(5437),l=i(1387),c=i(6619);function h(t){return new d(t,{silent:!0}).createRoute}class d{constructor(t,e){this.path=t,this.createRoute=t=>{(0,r.Z)(this.silent,"FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.");let e=(0,n.ot)(t);return e.isRoot=!1,e},this.silent=null==e?void 0:e.silent}}class f{constructor(t){this.useMatch=t=>(0,s.b)({select:null==t?void 0:t.select,from:this.options.id,structuralSharing:null==t?void 0:t.structuralSharing}),this.useRouteContext=t=>(0,s.b)({from:this.options.id,select:e=>(null==t?void 0:t.select)?t.select(e.context):e.context}),this.useSearch=t=>(0,u.R)({select:null==t?void 0:t.select,structuralSharing:null==t?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>(0,l.U)({select:null==t?void 0:t.select,structuralSharing:null==t?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>(0,o.M)({...t,from:this.options.id}),this.useLoaderData=t=>(0,a.O)({...t,from:this.options.id}),this.useNavigate=()=>(0,c.s)({from:this.options.id}),this.options=t,this.$$typeof=Symbol.for("react.memo")}}function p(t){return e=>new f({id:t,...e})}},2099:function(t,e,i){i.d(e,{i:function(){return n},j:function(){return s}});var r=i(7294);let n=r.createContext(void 0),s=r.createContext(void 0)},6346:function(t,e,i){i.d(e,{C0:function(){return u},Eq:function(){return l},I3:function(){return a},v6:function(){return o}});var r=i(5893),n=i(7464),s=i(2570);function o(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function a(t){return!!(null==t?void 0:t.isNotFound)}function u(t){let e=(0,s.z)({select:t=>`not-found-${t.location.pathname}-${t.status}`});return(0,r.jsx)(n.M,{getResetKey:()=>e,onCatch:(e,i)=>{var r;if(a(e))null==(r=t.onCatch)||r.call(t,e,i);else throw e},errorComponent:({error:e})=>{var i;if(a(e))return null==(i=t.fallback)?void 0:i.call(t,e);throw e},children:t.children})}function l(){return(0,r.jsx)("p",{children:"Not Found"})}},7111:function(t,e,i){i.d(e,{$O:function(){return p},KO:function(){return u},Q_:function(){return d},Qj:function(){return l},RQ:function(){return n},XI:function(){return o},i3:function(){return h},qd:function(){return c},s1:function(){return s},sk:function(){return f},zk:function(){return a}});var r=i(3091);function n(t){return s(t.filter(t=>void 0!==t).join("/"))}function s(t){return t.replace(/\/{2,}/g,"/")}function o(t){return"/"===t?t:t.replace(/^\/{1,}/,"")}function a(t){return"/"===t?t:t.replace(/\/{1,}$/,"")}function u(t){return a(o(t))}function l(t,e){return t.endsWith("/")&&"/"!==t&&t!==`${e}/`?t.slice(0,-1):t}function c(t,e,i){return l(t,i)===l(e,i)}function h({basepath:t,base:e,to:i,trailingSlash:o="never",caseSensitive:a}){var u,l;e=m(t,e,a),i=m(t,i,a);let c=d(e),h=d(i);return c.length>1&&(null==(u=(0,r.Z$)(c))?void 0:u.value)==="/"&&c.pop(),h.forEach((t,e)=>{"/"===t.value?e?e===h.length-1&&c.push(t):c=[t]:".."===t.value?c.pop():"."===t.value||c.push(t)}),c.length>1&&((null==(l=(0,r.Z$)(c))?void 0:l.value)==="/"?"never"===o&&c.pop():"always"===o&&c.push({type:"pathname",value:"/"})),s(n([t,...c.map(t=>t.value)]))}function d(t){if(!t)return[];t=s(t);let e=[];if("/"===t.slice(0,1)&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;let i=t.split("/").filter(Boolean);return e.push(...i.map(t=>"$"===t||"*"===t?{type:"wildcard",value:t}:"$"===t.charAt(0)?{type:"param",value:t}:{type:"pathname",value:decodeURI(t)})),"/"===t.slice(-1)&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function f({path:t,params:e,leaveWildcards:i,leaveParams:r,decodeCharMap:s}){let o=d(t),a={};for(let[t,i]of Object.entries(e)){let e="string"==typeof i;["*","_splat"].includes(t)?a[t]=e?encodeURI(i):i:a[t]=e?function(t,e){let i=encodeURIComponent(t);if(e)for(let[t,r]of e)i=i.replaceAll(t,r);return i}(i,s):i}return n(o.map(t=>{if("wildcard"===t.type){let e=a._splat;return i?`${t.value}${e??""}`:e}if("param"===t.type){if(r){let e=a[t.value];return`${t.value}${e??""}`}return a[t.value.substring(1)]??"undefined"}return t.value}))}function p(t,e,i){let r=function(t,e,i){if("/"!==t&&!e.startsWith(t))return;e=m(t,e,i.caseSensitive);let r=m(t,`${i.to??"$"}`,i.caseSensitive),s=d(e),o=d(r);!e.startsWith("/")&&s.unshift({type:"pathname",value:"/"}),!r.startsWith("/")&&o.unshift({type:"pathname",value:"/"});let a={};return(()=>{for(let t=0;t<Math.max(s.length,o.length);t++){let e=s[t],r=o[t],u=t>=s.length-1,l=t>=o.length-1;if(r){if("wildcard"===r.type){let e=decodeURI(n(s.slice(t).map(t=>t.value)));return a["*"]=e,a._splat=e,!0}if("pathname"===r.type){if("/"===r.value&&!(null==e?void 0:e.value))return!0;if(e){if(i.caseSensitive){if(r.value!==e.value)return!1}else if(r.value.toLowerCase()!==e.value.toLowerCase())return!1}}if(!e)return!1;if("param"===r.type){if("/"===e.value)return!1;"$"!==e.value.charAt(0)&&(a[r.value.substring(1)]=decodeURIComponent(e.value))}}if(!u&&l)return a["**"]=n(s.slice(t+1).map(t=>t.value)),!!i.fuzzy&&(null==r?void 0:r.value)!=="/"}return!0})()?a:void 0}(t,e,i);if(!i.to||!!r)return r??{}}function m(t,e,i=!1){let r=i?t:t.toLowerCase(),n=i?e:e.toLowerCase();switch(!0){case"/"===r:return e;case n===r:return"";case e.length<t.length:case"/"!==n[r.length]:return e;case n.startsWith(r):return e.slice(t.length);default:return e}}},8239:function(t,e,i){function r(t){return!!(null==t?void 0:t.isRedirect)}function n(t){return!!(null==t?void 0:t.isRedirect)&&t.href}i.d(e,{ef:function(){return n},x8:function(){return r}})},4073:function(t,e,i){i.d(e,{B:function(){return r}});let r="__root__"},5416:function(t,e,i){i.d(e,{ot:function(){return f},uM:function(){return m}});var r=i(1835),n=i(7111),s=i(2699),o=i(9179),a=i(1387),u=i(5437);i(6346);var l=i(6619),c=i(4073),h=i(4e3);class d{constructor(t){this.init=t=>{var e,i;this.originalIndex=t.originalIndex;let s=this.options,o=!(null==s?void 0:s.path)&&!(null==s?void 0:s.id);this.parentRoute=null==(i=(e=this.options).getParentRoute)?void 0:i.call(e),o?this._path=c.B:(0,r.Z)(this.parentRoute,"Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=o?c.B:s.path;a&&"/"!==a&&(a=(0,n.XI)(a));let u=(null==s?void 0:s.id)||a,l=o?c.B:(0,n.RQ)([this.parentRoute.id===c.B?"":this.parentRoute.id,u]);a===c.B&&(a="/"),l!==c.B&&(l=(0,n.RQ)(["/",l]));let h=l===c.B?"/":(0,n.RQ)([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=h,this._to=h,this._ssr=(null==s?void 0:s.ssr)??t.defaultSsr??!0},this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.useMatch=t=>(0,h.b)({select:null==t?void 0:t.select,from:this.id,structuralSharing:null==t?void 0:t.structuralSharing}),this.useRouteContext=t=>(0,h.b)({...t,from:this.id,select:e=>(null==t?void 0:t.select)?t.select(e.context):e.context}),this.useSearch=t=>(0,u.R)({select:null==t?void 0:t.select,structuralSharing:null==t?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>(0,a.U)({select:null==t?void 0:t.select,structuralSharing:null==t?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>(0,o.M)({...t,from:this.id}),this.useLoaderData=t=>(0,s.O)({...t,from:this.id}),this.useNavigate=()=>(0,l.s)({from:this.id}),this.options=t||{},this.isRoot=!(null==t?void 0:t.getParentRoute),(0,r.Z)(!((null==t?void 0:t.id)&&(null==t?void 0:t.path)),"Route cannot have both an 'id' and a 'path' option."),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),"object"==typeof t&&null!==t&&(this.children=Object.values(t)),this}}function f(t){return new d(t)}class p extends d{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function m(t){return new p(t)}},8292:function(t,e,i){i.d(e,{p7:()=>k});let r="__TSR_index",n="popstate",s="beforeunload";function o(t){let e=t.getLocation(),i=new Set,n=r=>{e=t.getLocation(),i.forEach(t=>t({location:e,action:r}))},s=i=>{t.notifyOnIndexChange??!0?n(i):e=t.getLocation()},o=async({task:i,navigateOpts:r,...n})=>{var s,o;if(null==r?void 0:r.ignoreBlocker){i();return}let a=(null==(s=t.getBlockers)?void 0:s.call(t))??[],l="PUSH"===n.type||"REPLACE"===n.type;if("undefined"!=typeof document&&a.length&&l)for(let i of a){let r=u(n.path,n.state);if(await i.blockerFn({currentLocation:e,nextLocation:r,action:n.type})){null==(o=t.onBlocked)||o.call(t);return}}i()};return{get location(){return e},get length(){return t.getLength()},subscribers:i,subscribe:t=>(i.add(t),()=>{i.delete(t)}),push:(i,s,u)=>{o({task:()=>{t.pushState(i,s),n({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:i,state:s=a(e.state[r]+1,s)})},replace:(i,s,u)=>{o({task:()=>{t.replaceState(i,s),n({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:i,state:s=a(e.state[r],s)})},go:(e,i)=>{o({task:()=>{t.go(e),s({type:"GO",index:e})},navigateOpts:i,type:"GO"})},back:e=>{o({task:()=>{t.back((null==e?void 0:e.ignoreBlocker)??!1),s({type:"BACK"})},navigateOpts:e,type:"BACK"})},forward:e=>{o({task:()=>{t.forward((null==e?void 0:e.ignoreBlocker)??!1),s({type:"FORWARD"})},navigateOpts:e,type:"FORWARD"})},canGoBack:()=>0!==e.state[r],createHref:e=>t.createHref(e),block:e=>{var i;if(!t.setBlockers)return()=>{};let r=(null==(i=t.getBlockers)?void 0:i.call(t))??[];return t.setBlockers([...r,e]),()=>{var i,r;let n=(null==(i=t.getBlockers)?void 0:i.call(t))??[];null==(r=t.setBlockers)||r.call(t,n.filter(t=>t!==e))}},flush:()=>{var e;return null==(e=t.flush)?void 0:e.call(t)},destroy:()=>{var e;return null==(e=t.destroy)?void 0:e.call(t)},notify:n}}function a(t,e){return!e&&(e={}),{...e,key:function(){return(Math.random()+1).toString(36).substring(7)}(),[r]:t}}function u(t,e){let i=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,i>0?n>0?Math.min(i,n):i:n>0?n:t.length),hash:i>-1?t.substring(i):"",search:n>-1?t.slice(n,-1===i?void 0:i):"",state:e||{[r]:0}}}class l{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{let t=[],e=[];for(let i of this.options.deps)t.push(i.prevState),e.push(i.state);return this.lastSeenDepValues=e,{prevDepVals:t,currDepVals:e,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,e;this.prevState=this.state;let{prevDepVals:i,currDepVals:r,prevVal:n}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:r,prevVal:n}),null==(e=(t=this.options).onUpdate)||e.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(let t of this.options.deps)t instanceof l&&t.checkIfRecalculationNeededDeeply();let t=!1,e=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let r=0;r<i.length;r++)if(i[r]!==e[r]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{for(let t of(this.unregisterFromGraph(),this._subscriptions))t()}),this.subscribe=t=>{var e,i;this.listeners.add(t);let r=null==(i=(e=this.options).onSubscribe)?void 0:i.call(e,t,this);return()=>{this.listeners.delete(t),null==r||r()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(let e of t)if(e instanceof l)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof b){let t=c.get(e);!t&&(t=new Set,c.set(e,t)),t.add(this);let i=h.get(this);!i&&(i=new Set,h.set(this,i)),i.add(e)}}unregisterFromGraph(t=this.options.deps){for(let e of t)if(e instanceof l)this.unregisterFromGraph(e.options.deps);else if(e instanceof b){let t=c.get(e);t&&t.delete(this);let i=h.get(this);i&&i.delete(e)}}}let c=new WeakMap,h=new WeakMap,d={current:[]},f=!1,p=0,m=new Set,v=new Map;function y(t){if(p>0&&!v.has(t)&&v.set(t,t.prevState),m.add(t),!(p>0)){if(!f)try{for(f=!0;m.size>0;){let t=Array.from(m);for(let e of(m.clear(),t)){let t=v.get(e)??e.prevState;e.prevState=t,!function(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}(e)}for(let e of t){let t=c.get(e);t&&(d.current.push(e),!function t(e){for(let i of Array.from(e).sort((t,e)=>t instanceof l&&t.options.deps.includes(e)?1:e instanceof l&&e.options.deps.includes(t)?-1:0)){if(d.current.includes(i))continue;d.current.push(i),i.recompute();let e=h.get(i);if(e)for(let i of e){let e=c.get(i);e&&t(e)}}}(t))}for(let e of t){let t=c.get(e);if(t)for(let e of t)!function(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}(e)}}}finally{f=!1,d.current=[],v.clear()}}}function g(t){p++;try{t()}finally{if(0==--p){let t=Array.from(m)[0];t&&y(t)}}}class b{constructor(t,e){this.listeners=new Set,this.subscribe=t=>{var e,i;this.listeners.add(t);let r=null==(i=null==(e=this.options)?void 0:e.onSubscribe)?void 0:i.call(e,t,this);return()=>{this.listeners.delete(t),null==r||r()}},this.setState=t=>{var e,i,r;this.prevState=this.state,this.state=(null==(e=this.options)?void 0:e.updateFn)?this.options.updateFn(this.prevState)(t):t(this.prevState),null==(r=null==(i=this.options)?void 0:i.onUpdate)||r.call(i),y(this)},this.prevState=t,this.state=t,this.options=e}}var S=i("1835"),w=i("5298"),C=i("4073");function R(t){if(!t)return"";let e=decodeURIComponent(t);return"false"!==e&&("true"===e||(0*+e==0&&+e+""===e?+e:e))}let _=function(t){return e=>{"?"===e.substring(0,1)&&(e=e.substring(1));let i=function(t,e){let i,r;let n={},s=t.split("&");for(;i=s.shift();){let t=i.indexOf("=");if(-1!==t){r=decodeURIComponent(r=i.slice(0,t));let e=i.slice(t+1);void 0!==n[r]?n[r]=[].concat(n[r],R(e)):n[r]=R(e)}else n[r=decodeURIComponent(r=i)]=""}return n}(e);for(let e in i){let r=i[e];if("string"==typeof r)try{i[e]=t(r)}catch(t){}}return i}}(JSON.parse),P=function(t,e){return i=>{Object.keys(i={...i}).forEach(r=>{let n=i[r];void 0===n||void 0===n?delete i[r]:i[r]=function(i){if("object"==typeof i&&null!==i)try{return t(i)}catch(t){}else if("string"==typeof i&&"function"==typeof e)try{return e(i),t(i)}catch(t){}return i}(n)});let r=(function(t,e){let i,r,n,s="";for(i in t)if(void 0!==(n=t[i])){if(Array.isArray(n))for(r=0;r<n.length;r++)s&&(s+="&"),s+=encodeURIComponent(i)+"="+encodeURIComponent(n[r]);else s&&(s+="&"),s+=encodeURIComponent(i)+"="+encodeURIComponent(n)}return""+s})(i).toString();return r?`?${r}`:""}}(JSON.stringify,JSON.parse);var O=i("3091"),M=i("7111"),x=i("8239"),E=i("6346");let L={stringify:t=>JSON.stringify(t,function(t,e){let i=this[t],r=j.find(t=>t.stringifyCondition(i));return r?r.stringify(i):e}),parse:t=>JSON.parse(t,function(t,e){let i=this[t];if((0,O.PO)(i)){let t=j.find(t=>t.parseCondition(i));if(t)return t.parse(i)}return e}),encode:t=>{if(Array.isArray(t))return t.map(t=>L.encode(t));if((0,O.PO)(t))return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,L.encode(e)]));let e=j.find(e=>e.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if((0,O.PO)(t)){let e=j.find(e=>e.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(t=>L.decode(t)):(0,O.PO)(t)?Object.fromEntries(Object.entries(t).map(([t,e])=>[t,L.decode(e)])):t}},F=(t,e,i=t=>t,r=t=>t)=>({key:t,stringifyCondition:e,stringify:e=>({[`$${t}`]:i(e)}),parseCondition:e=>Object.hasOwn(e,`$${t}`),parse:e=>r(e[`$${t}`])}),j=[F("undefined",t=>void 0===t,()=>0,()=>void 0),F("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),F("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(Error(t.message),t)),F("formData",t=>t instanceof FormData,t=>{let e={};return t.forEach((t,i)=>{e[i]=t}),e},t=>{let e=new FormData;return Object.entries(t).forEach(([t,i])=>{e.append(t,i)}),e})],D=["component","errorComponent","pendingComponent","notFoundComponent"];function I(t,e){if(null==t)return{};if("~standard"in t){let i=t["~standard"].validate(e);if(i instanceof Promise)throw new A("Async validation not supported");if(i.issues)throw new A(JSON.stringify(i.issues,void 0,2));return i.value}return"parse"in t?t.parse(e):"function"==typeof t?t(e):{}}function k(t){return new T(t)}class T{constructor(t){this.tempLocationKey=`${Math.round(1e7*Math.random())}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=t=>t(),this.update=t=>{var e;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");let i=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??"undefined"==typeof document,this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(t=>[encodeURIComponent(t),t])):void 0,(!this.basepath||t.basepath&&t.basepath!==i.basepath)&&(void 0===t.basepath||""===t.basepath||"/"===t.basepath?this.basepath="/":this.basepath=`/${(0,M.KO)(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?function(t={initialEntries:["/"]}){let e=t.initialEntries,i=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1,r=e.map((t,e)=>a(e,void 0));return o({getLocation:()=>u(e[i],r[i]),getLength:()=>e.length,pushState:(t,n)=>{i<e.length-1&&(e.splice(i+1),r.splice(i+1)),r.push(n),e.push(t),i=Math.max(e.length-1,0)},replaceState:(t,n)=>{r[i]=n,e[i]=t},back:()=>{i=Math.max(i-1,0)},forward:()=>{i=Math.min(i+1,e.length-1)},go:t=>{i=Math.min(Math.max(i+t,0),e.length-1)},createHref:t=>t})}({initialEntries:[this.basepath||"/"]}):function(t){let e,i,a;let l=(void 0)??("undefined"!=typeof document?window:void 0),c=l.history.pushState,h=l.history.replaceState,d=[],f=()=>d,p=(null==t?void 0:t.createHref)??(t=>t),m=(null==t?void 0:t.parseLocation)??(()=>u(`${l.location.pathname}${l.location.search}${l.location.hash}`,l.history.state)),v=m(),y=!1,g=!1,b=!1,S=!1,w=()=>{if(!!i)O._ignoreSubscribers=!0,(i.isPush?l.history.pushState:l.history.replaceState)(i.state,"",i.href),O._ignoreSubscribers=!1,i=void 0,a=void 0,e=void 0},C=(t,r,n)=>{let s=p(r);!a&&(e=v),v=u(r,n),i={href:s,state:n,isPush:(null==i?void 0:i.isPush)||"push"===t},!a&&(a=Promise.resolve().then(()=>w()))},R=t=>{v=m(),O.notify({type:t})},_=async()=>{if(g){g=!1;return}let t=m(),e=t.state[r]-v.state[r],i=1===e,n=-1===e,s=!i&&!n||y;y=!1;let o=s?"GO":n?"BACK":"FORWARD",a=s?{type:"GO",index:e}:{type:n?"BACK":"FORWARD"};if(b)b=!1;else{let e=f();if("undefined"!=typeof document&&e.length){for(let i of e)if(await i.blockerFn({currentLocation:v,nextLocation:t,action:o})){g=!0,l.history.go(1),O.notify(a);return}}}v=m(),O.notify(a)},P=t=>{if(S){S=!1;return}let e=!1,i=f();if("undefined"!=typeof document&&i.length)for(let t of i){let i=t.enableBeforeUnload??!0;if(!0===i||"function"==typeof i&&!0===i()){e=!0;break}}if(e)return t.preventDefault(),t.returnValue=""},O=o({getLocation:()=>v,getLength:()=>l.history.length,pushState:(t,e)=>C("push",t,e),replaceState:(t,e)=>C("replace",t,e),back:t=>(t&&(b=!0),S=!0,l.history.back()),forward:t=>{t&&(b=!0),S=!0,l.history.forward()},go:t=>{y=!0,l.history.go(t)},createHref:t=>p(t),flush:w,destroy:()=>{l.history.pushState=c,l.history.replaceState=h,l.removeEventListener(s,P,{capture:!0}),l.removeEventListener(n,_)},onBlocked:()=>{e&&v!==e&&(v=e)},getBlockers:f,setBlockers:t=>d=t,notifyOnIndexChange:!1});return l.addEventListener(s,P,{capture:!0}),l.addEventListener(n,_),l.history.pushState=function(...t){let e=c.apply(l.history,t);return!O._ignoreSubscribers&&R("PUSH"),e},l.history.replaceState=function(...t){let e=h.apply(l.history,t);return!O._ignoreSubscribers&&R("REPLACE"),e},O}()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&(this.__store=new b(function(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(t=>!["redirected"].includes(t.status))}}})),"undefined"!=typeof window&&"CSS"in window&&"function"==typeof(null==(e=window.CSS)?void 0:e.supports)&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};let t=this.options.notFoundRoute;t&&(t.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);let e=t=>{t.forEach((t,i)=>{t.init({originalIndex:i,defaultSsr:this.options.defaultSsr});let r=this.routesById[t.id];if((0,S.Z)(!r,`Duplicate routes found with id: ${String(t.id)}`),this.routesById[t.id]=t,!t.isRoot&&t.path){let e=(0,M.zk)(t.fullPath);(!this.routesByPath[e]||t.fullPath.endsWith("/"))&&(this.routesByPath[e]=t)}let n=t.children;(null==n?void 0:n.length)&&e(n)})};e([this.routeTree]);let i=[];Object.values(this.routesById).forEach((t,e)=>{var r;if(t.isRoot||!t.path)return;let n=(0,M.XI)(t.fullPath),s=(0,M.Q_)(n);for(;s.length>1&&(null==(r=s[0])?void 0:r.value)==="/";)s.shift();let o=s.map(t=>"/"===t.value?.75:"param"===t.type?.5:"wildcard"===t.type?.25:1);i.push({child:t,trimmed:n,parsed:s,index:e,scores:o})}),this.flatRoutes=i.sort((t,e)=>{let i=Math.min(t.scores.length,e.scores.length);for(let r=0;r<i;r++)if(t.scores[r]!==e.scores[r])return e.scores[r]-t.scores[r];if(t.scores.length!==e.scores.length)return e.scores.length-t.scores.length;for(let r=0;r<i;r++)if(t.parsed[r].value!==e.parsed[r].value)return t.parsed[r].value>e.parsed[r].value?1:-1;return t.index-e.index}).map((t,e)=>(t.child.rank=e,t.child))},this.subscribe=(t,e)=>{let i={eventType:t,fn:e};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=t=>{this.subscribers.forEach(e=>{e.eventType===t.type&&e.fn(t)})},this.parseLocation=(t,e)=>{let i=({pathname:e,search:i,hash:r,state:n})=>{let s=this.options.parseSearch(i),o=this.options.stringifySearch(s);return{pathname:e,searchStr:o,search:(0,O.Q$)(null==t?void 0:t.search,s),hash:r.split("#").reverse()[0]??"",href:`${e}${o}${r}`,state:(0,O.Q$)(null==t?void 0:t.state,n)}},r=i(e??this.history.location),{__tempLocation:n,__tempKey:s}=r.state;if(n&&(!s||s===this.tempLocationKey)){let t=i(n);return t.state.key=r.state.key,delete t.state.__tempLocation,{...t,maskedLocation:r}}return r},this.resolvePathWithBase=(t,e)=>(0,M.i3)({basepath:this.basepath,base:t,to:(0,M.s1)(e),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(t,e)=>{let i={},r=(0,M.zk)(t.pathname),n=t=>(0,M.$O)(this.basepath,r,{to:t.fullPath,caseSensitive:t.options.caseSensitive??this.options.caseSensitive,fuzzy:!0}),s=(null==e?void 0:e.to)!==void 0?this.routesByPath[e.to]:void 0;s?i=n(s):s=this.flatRoutes.find(t=>{let e=n(t);return!!e&&(i=e,!0)});let o=s||this.routesById[C.B],a=[o];for(;o.parentRoute;)o=o.parentRoute,a.unshift(o);return{matchedRoutes:a,routeParams:i,foundRoute:s}},this.cancelMatch=t=>{let e=this.getMatch(t);e&&(e.abortController.abort(),clearTimeout(e.pendingTimeout))},this.cancelMatches=()=>{var t;null==(t=this.state.pendingMatches)||t.forEach(t=>{this.cancelMatch(t.id)})},this.buildLocation=t=>{let e=(e={},i)=>{var r,n,s,o,a,u;let l;let c=e._fromLocation?this.matchRoutes(e._fromLocation,{_buildLocation:!0}):this.state.matches,h=null!=e.from?c.find(t=>(0,M.$O)(this.basepath,(0,M.zk)(t.pathname),{to:e.from,caseSensitive:!1,fuzzy:!1})):void 0,d=(null==h?void 0:h.pathname)||this.latestLocation.pathname;(0,S.Z)(null==e.from||null!=h,"Could not find match for from: "+e.from);let f=(null==(r=this.state.pendingMatches)?void 0:r.length)?null==(n=(0,O.Z$)(this.state.pendingMatches))?void 0:n.search:(null==(s=(0,O.Z$)(c))?void 0:s.search)||this.latestLocation.search,p=null==i?void 0:i.matchedRoutes.filter(t=>c.find(e=>e.routeId===t.id));if(e.to)l=this.resolvePathWithBase(d,`${e.to}`);else{let t=this.routesById[null==(o=null==p?void 0:p.find(t=>{let e=(0,M.sk)({path:t.fullPath,params:(null==i?void 0:i.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return(0,M.RQ)([this.basepath,e])===d}))?void 0:o.id];l=this.resolvePathWithBase(d,(null==t?void 0:t.to)??d)}let m={...null==(a=(0,O.Z$)(c))?void 0:a.params},v=(e.params??!0)===!0?m:{...m,...(0,O.SE)(e.params,m)};Object.keys(v).length>0&&(null==i||i.matchedRoutes.map(t=>{var e;return(null==(e=t.options.params)?void 0:e.stringify)??t.options.stringifyParams}).filter(Boolean).forEach(t=>{v={...v,...t(v)}})),l=(0,M.sk)({path:l,params:v??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let y=f;if(t._includeValidateSearch&&(null==(u=this.options.search)?void 0:u.strict)){let t={};null==i||i.matchedRoutes.forEach(e=>{try{e.options.validateSearch&&(t={...t,...I(e.options.validateSearch,{...t,...y})??{}})}catch(t){}}),y=t}y=(r=>{let n=(null==i?void 0:i.matchedRoutes.reduce((e,i)=>{var r;let n=[];return"search"in i.options?(null==(r=i.options.search)?void 0:r.middlewares)&&n.push(...i.options.search.middlewares):(i.options.preSearchFilters||i.options.postSearchFilters)&&n.push(({search:t,next:e})=>{let r=t;"preSearchFilters"in i.options&&i.options.preSearchFilters&&(r=i.options.preSearchFilters.reduce((t,e)=>e(t),t));let n=e(r);return"postSearchFilters"in i.options&&i.options.postSearchFilters?i.options.postSearchFilters.reduce((t,e)=>e(t),n):n}),t._includeValidateSearch&&i.options.validateSearch&&n.push(({search:t,next:e})=>{try{let r=e(t);return{...r,...I(i.options.validateSearch,r)??{}}}catch(t){}}),e.concat(n)},[]))??[];n.push(({search:t})=>e.search?!0===e.search?t:(0,O.SE)(e.search,t):{});let s=(t,e)=>{if(t>=n.length)return e;let i=n[t];return i({search:e,next:e=>s(t+1,e)})};return s(0,r)})(y),y=(0,O.Q$)(f,y);let g=this.options.stringifySearch(y),b=!0===e.hash?this.latestLocation.hash:e.hash?(0,O.SE)(e.hash,this.latestLocation.hash):void 0,w=b?`#${b}`:"",C=!0===e.state?this.latestLocation.state:e.state?(0,O.SE)(e.state,this.latestLocation.state):{};return C=(0,O.Q$)(this.latestLocation.state,C),{pathname:l,search:y,searchStr:g,state:C,hash:b??"",href:`${l}${g}${w}`,unmaskOnReload:e.unmaskOnReload}},i=(i={},r)=>{var n;let s=e(i),o=r?e(r):void 0;if(!o){let i={},a=null==(n=this.options.routeMasks)?void 0:n.find(t=>{let e=(0,M.$O)(this.basepath,s.pathname,{to:t.from,caseSensitive:!1,fuzzy:!1});return!!e&&(i=e,!0)});if(a){let{from:n,...s}=a;o=e(r={...(0,O.ei)(t,["from"]),...s,params:i})}}let a=this.getMatchedRoutes(s,i),u=e(i,a);if(o){let t=this.getMatchedRoutes(o,r),i=e(r,t);u.maskedLocation=i}return u};return t.mask?i(t,{...(0,O.ei)(t,["from"]),...t.mask}):i(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:e,...i})=>{let r=this.latestLocation.href===i.href,n=this.commitLocationPromise;if(this.commitLocationPromise=(0,O.M5)(()=>{null==n||n.resolve()}),r&&(()=>{i.state.key=this.latestLocation.state.key;let t=(0,O.vZ)(i.state,this.latestLocation.state);return delete i.state.key,t})())this.load();else{let{maskedLocation:r,hashScrollIntoView:n,...s}=i;r&&((s={...r,state:{...r.state,__tempKey:void 0,__tempLocation:{...s,search:s.searchStr,state:{...s.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}}).unmaskOnReload??this.options.unmaskOnReload)&&(s.state.__tempKey=this.tempLocationKey),s.state.__hashScrollIntoViewOptions=n??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[i.replace?"replace":"push"](s.href,s.state,{ignoreBlocker:e})}return this.resetNextScroll=i.resetScroll??!0,!this.history.subscribers.size&&this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:e,hashScrollIntoView:i,viewTransition:r,ignoreBlocker:n,href:s,...o}={})=>{if(s){let e=this.history.location.state.__TSR_index,i=u(s,{__TSR_index:t?e:e+1});o.to=i.pathname,o.search=this.options.parseSearch(i.search),o.hash=i.hash.slice(1)}let a=this.buildLocation({...o,_includeValidateSearch:!0});return this.commitLocation({...a,viewTransition:r,replace:t,resetScroll:e,hashScrollIntoView:i,ignoreBlocker:n})},this.navigate=({to:t,reloadDocument:e,href:i,...r})=>{if(e){!i&&(i=this.buildLocation({to:t,...r}).href),r.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...r,href:i,to:t})},this.load=async t=>{let e,i,r;for(this.latestLocation=this.parseLocation(this.latestLocation),r=new Promise(n=>{this.startReactTransition(async()=>{var s;try{let e;let i=this.latestLocation,r=this.state.resolvedLocation,n=r.href!==i.href,s=r.pathname!==i.pathname;this.cancelMatches(),g(()=>{e=this.matchRoutes(i),this.__store.setState(t=>({...t,status:"pending",isLoading:!0,location:i,pendingMatches:e,cachedMatches:t.cachedMatches.filter(t=>!e.find(e=>e.id===t.id))}))}),!this.state.redirect&&this.emit({type:"onBeforeNavigate",fromLocation:r,toLocation:i,pathChanged:s,hrefChanged:n}),this.emit({type:"onBeforeLoad",fromLocation:r,toLocation:i,pathChanged:s,hrefChanged:n}),await this.loadMatches({sync:null==t?void 0:t.sync,matches:e,location:i,onReady:async()=>{this.startViewTransition(async()=>{let t,e,i;g(()=>{this.__store.setState(r=>{let n=r.matches,s=r.pendingMatches||r.matches;return t=n.filter(t=>!s.find(e=>e.id===t.id)),e=s.filter(t=>!n.find(e=>e.id===t.id)),i=n.filter(t=>s.find(e=>e.id===t.id)),{...r,isLoading:!1,loadedAt:Date.now(),matches:s,pendingMatches:void 0,cachedMatches:[...r.cachedMatches,...t.filter(t=>"error"!==t.status)]}}),this.clearExpiredCache()}),[[t,"onLeave"],[e,"onEnter"],[i,"onStay"]].forEach(([t,e])=>{t.forEach(t=>{var i,r;null==(r=(i=this.looseRoutesById[t.routeId].options)[e])||r.call(i,t)})})})}})}catch(t){(0,x.ef)(t)?(e=t,!this.isServer&&this.navigate({...e,replace:!0,ignoreBlocker:!0})):(0,E.I3)(t)&&(i=t),this.__store.setState(t=>({...t,statusCode:e?e.statusCode:i?404:t.matches.some(t=>"error"===t.status)?500:200,redirect:e}))}this.latestLoadPromise===r&&(null==(s=this.commitLocationPromise)||s.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),n()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=t=>{let e=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,e&&"undefined"!=typeof document&&"startViewTransition"in document&&"function"==typeof document.startViewTransition){let i;i="object"==typeof e&&this.isViewTransitionTypesSupported?{update:t,types:e.types}:t,document.startViewTransition(i)}else t()},this.updateMatch=(t,e)=>{var i;let r;let n=null==(i=this.state.pendingMatches)?void 0:i.find(e=>e.id===t),s=this.state.matches.find(e=>e.id===t),o=this.state.cachedMatches.find(e=>e.id===t),a=n?"pendingMatches":s?"matches":o?"cachedMatches":"";return a&&this.__store.setState(i=>{var n;return{...i,[a]:null==(n=i[a])?void 0:n.map(i=>i.id===t?r=e(i):i)}}),r},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(e=>e.id===t),this.loadMatches=async({location:t,matches:e,preload:i,onReady:r,updateMatch:n=this.updateMatch,sync:s})=>{let o;let a=!1,u=async()=>{!a&&(a=!0,await (null==r?void 0:r()))},l=t=>!!(i&&!this.state.matches.find(e=>e.id===t));!this.isServer&&!this.state.matches.length&&u();let c=(i,r)=>{var s,o,u;if((0,x.ef)(r)&&!r.reloadDocument)throw r;if((0,x.x8)(r)||(0,E.I3)(r)){if(n(i.id,t=>({...t,status:(0,x.x8)(r)?"redirected":(0,E.I3)(r)?"notFound":"error",isFetching:!1,error:r,beforeLoadPromise:void 0,loaderPromise:void 0})),!r.routeId&&(r.routeId=i.routeId),null==(s=i.beforeLoadPromise)||s.resolve(),null==(o=i.loaderPromise)||o.resolve(),null==(u=i.loadPromise)||u.resolve(),(0,x.x8)(r))throw a=!0,r=this.resolveRedirect({...r,_fromLocation:t});if((0,E.I3)(r))throw this._handleNotFound(e,r,{updateMatch:n}),r}};try{await new Promise((i,a)=>{(async()=>{var h,d,f;try{let a=(t,i,r)=>{var s,a;let{id:u,routeId:l}=e[t],h=this.looseRoutesById[l];if(i instanceof Promise)throw i;i.routerCode=r,o=o??t,c(this.getMatch(u),i);try{null==(a=(s=h.options).onError)||a.call(s,i)}catch(t){i=t,c(this.getMatch(u),i)}n(u,t=>{var e,r;return null==(e=t.beforeLoadPromise)||e.resolve(),null==(r=t.loadPromise)||r.resolve(),{...t,error:i,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(let[i,{id:s,routeId:o}]of e.entries()){let c=this.getMatch(s),p=null==(h=e[i-1])?void 0:h.id,m=this.looseRoutesById[o],v=m.options.pendingMs??this.options.defaultPendingMs,y=!!(r&&!this.isServer&&!l(s)&&(m.options.loader||m.options.beforeLoad)&&"number"==typeof v&&v!==1/0&&(m.options.pendingComponent??this.options.defaultPendingComponent)),g=!0;if((c.beforeLoadPromise||c.loaderPromise)&&(y&&setTimeout(()=>{try{u()}catch{}},v),await c.beforeLoadPromise,g="success"!==this.getMatch(s).status),g){try{let r;n(s,t=>({...t,loadPromise:(0,O.M5)(()=>{var e;null==(e=t.loadPromise)||e.resolve()}),beforeLoadPromise:(0,O.M5)()}));let o=new AbortController;y&&(r=setTimeout(()=>{try{u()}catch{}},v));let{paramsError:c,searchError:h}=this.getMatch(s);c&&a(i,c,"PARSE_PARAMS"),h&&a(i,h,"VALIDATE_SEARCH");let g=()=>p?this.getMatch(p).context:this.options.context??{};n(s,t=>({...t,isFetching:"beforeLoad",fetchCount:t.fetchCount+1,abortController:o,pendingTimeout:r,context:{...g(),...t.__routeContext}}));let{search:b,params:S,context:w,cause:C}=this.getMatch(s),R=l(s),_={search:b,abortController:o,params:S,preload:R,context:w,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),buildLocation:this.buildLocation,cause:R?"preload":C,matches:e},P=await (null==(f=(d=m.options).beforeLoad)?void 0:f.call(d,_))??{};this.serializeLoaderData&&(P=this.serializeLoaderData("__beforeLoadContext",P,{router:this,match:this.getMatch(s)})),((0,x.x8)(P)||(0,E.I3)(P))&&a(i,P,"BEFORE_LOAD"),n(s,t=>({...t,__beforeLoadContext:P,context:{...g(),...t.__routeContext,...P},abortController:o}))}catch(t){a(i,t,"BEFORE_LOAD")}n(s,t=>{var e;return null==(e=t.beforeLoadPromise)||e.resolve(),{...t,beforeLoadPromise:void 0,isFetching:!1}})}}let p=e.slice(0,o),m=[];p.forEach(({id:i,routeId:r},o)=>{m.push((async()=>{let{loaderPromise:a}=this.getMatch(i),u=!1,h=!1;if(a){await a;let t=this.getMatch(i);t.error&&c(t,t.error)}else{let a=m[o-1],d=this.looseRoutesById[r],f=()=>{let{params:e,loaderDeps:r,abortController:n,context:s,cause:o}=this.getMatch(i),u=l(i);return{params:e,deps:r,preload:!!u,parentMatchPromise:a,abortController:n,context:s,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),cause:u?"preload":o,route:d}},p=Date.now()-this.getMatch(i).updatedAt,v=l(i),y=v?d.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:d.options.staleTime??this.options.defaultStaleTime??0,g=d.options.shouldReload,b="function"==typeof g?g(f()):g;n(i,t=>({...t,loaderPromise:(0,O.M5)(),preload:!!v&&!this.state.matches.find(t=>t.id===i)}));let S=async()=>{var t,r,s,o,a,u,l,h;try{let p=async()=>{let t=this.getMatch(i);t.minPendingPromise&&await t.minPendingPromise};try{this.loadRouteChunk(d),n(i,t=>({...t,isFetching:"loader"}));let l=await (null==(r=(t=d.options).loader)?void 0:r.call(t,f()));this.serializeLoaderData&&(l=this.serializeLoaderData("loaderData",l,{router:this,match:this.getMatch(i)})),c(this.getMatch(i),l),await d._lazyPromise,await p();let h=null==(o=(s=d.options).head)?void 0:o.call(s,{matches:e,match:this.getMatch(i),params:this.getMatch(i).params,loaderData:l}),m=null==h?void 0:h.meta,v=null==h?void 0:h.links,y=null==h?void 0:h.scripts,g=null==(u=(a=d.options).headers)?void 0:u.call(a,{loaderData:l});n(i,t=>({...t,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:l,meta:m,links:v,scripts:y,headers:g}))}catch(e){let t=e;await p(),c(this.getMatch(i),e);try{null==(h=(l=d.options).onError)||h.call(l,e)}catch(e){t=e,c(this.getMatch(i),e)}n(i,e=>({...e,error:t,status:"error",isFetching:!1}))}await d._componentsPromise}catch(t){n(i,t=>({...t,loaderPromise:void 0})),c(this.getMatch(i),t)}},{status:w,invalid:C}=this.getMatch(i);u="success"===w&&(C||(b??p>y)),v&&!1===d.options.preload||(u&&!s?(h=!0,(async()=>{try{await S();let{loaderPromise:t,loadPromise:e}=this.getMatch(i);null==t||t.resolve(),null==e||e.resolve(),n(i,t=>({...t,loaderPromise:void 0}))}catch(t){(0,x.ef)(t)&&await this.navigate(t)}})()):("success"!==w||u&&s)&&await S())}if(!h){let{loaderPromise:t,loadPromise:e}=this.getMatch(i);null==t||t.resolve(),null==e||e.resolve()}return n(i,t=>({...t,isFetching:!!h&&t.isFetching,loaderPromise:h?t.loaderPromise:void 0,invalid:!1})),this.getMatch(i)})())}),await Promise.all(m),i()}catch(t){a(t)}})()}),await u()}catch(t){if((0,x.x8)(t)||(0,E.I3)(t))throw(0,E.I3)(t)&&!i&&await u(),t}return e},this.invalidate=t=>{let e=e=>{var i;return(null==(i=null==t?void 0:t.filter)?void 0:i.call(t,e))??!0?{...e,invalid:!0,..."error"===e.status?{status:"pending",error:void 0}:{}}:e};return this.__store.setState(t=>{var i;return{...t,matches:t.matches.map(e),cachedMatches:t.cachedMatches.map(e),pendingMatches:null==(i=t.pendingMatches)?void 0:i.map(e)}}),this.load({sync:null==t?void 0:t.sync})},this.resolveRedirect=t=>(!t.href&&(t.href=this.buildLocation(t).href),t),this.clearCache=t=>{let e=null==t?void 0:t.filter;void 0!==e?this.__store.setState(t=>({...t,cachedMatches:t.cachedMatches.filter(t=>!e(t))})):this.__store.setState(t=>({...t,cachedMatches:[]}))},this.clearExpiredCache=()=>{this.clearCache({filter:t=>{let e=this.looseRoutesById[t.routeId];if(!e.options.loader)return!0;let i=(t.preload?e.options.preloadGcTime??this.options.defaultPreloadGcTime:e.options.gcTime??this.options.defaultGcTime)??3e5;return!("error"!==t.status&&Date.now()-t.updatedAt<i)}})},this.loadRouteChunk=t=>(void 0===t._lazyPromise&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{let{id:i,...r}=e.options;Object.assign(t.options,r)}):t._lazyPromise=Promise.resolve()),void 0===t._componentsPromise&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(D.map(async e=>{let i=t.options[e];(null==i?void 0:i.preload)&&await i.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{let e=this.buildLocation(t),i=this.matchRoutes(e,{throwOnError:!0,preload:!0,dest:t}),r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(t=>t.id)),n=new Set([...r,...this.state.cachedMatches.map(t=>t.id)]);g(()=>{i.forEach(t=>{!n.has(t.id)&&this.__store.setState(e=>({...e,cachedMatches:[...e.cachedMatches,t]}))})});try{return i=await this.loadMatches({matches:i,location:e,preload:!0,updateMatch:(t,e)=>{r.has(t)?i=i.map(i=>i.id===t?e(i):i):this.updateMatch(t,e)}})}catch(t){if((0,x.x8)(t)){if(t.reloadDocument)return;return await this.preloadRoute({...t,_fromLocation:e})}console.error(t);return}},this.matchRoute=(t,e)=>{let i={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},r=this.buildLocation(i);if((null==e?void 0:e.pending)&&"pending"!==this.state.status)return!1;let n=((null==e?void 0:e.pending)===void 0?!this.state.isLoading:e.pending)?this.latestLocation:this.state.resolvedLocation,s=(0,M.$O)(this.basepath,n.pathname,{...e,to:r.pathname});return!!(s&&(!t.params||(0,O.vZ)(s,t.params,{partial:!0})))&&(s&&((null==e?void 0:e.includeSearch)??!0)?!!(0,O.vZ)(n.search,r.search,{partial:!0})&&s:s)},this.dehydrate=()=>{var t;let e=(null==(t=this.options.errorSerializer)?void 0:t.serialize)??B;return{state:{dehydratedMatches:this.state.matches.map(t=>({...(0,O.ei)(t,["id","status","updatedAt"]),error:t.error?{data:e(t.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var t,e,i;let r;"undefined"!=typeof document&&(r=this.options.transformer.parse(null==(t=window.__TSR__)?void 0:t.dehydrated)),(0,S.Z)(r,"Expected to find a dehydrated data on window.__TSR__.dehydrated... but we did not. Please file an issue!"),this.dehydratedData=r.payload,null==(i=(e=this.options).hydrate)||i.call(e,r.payload);let n=r.router.state,s=this.matchRoutes(this.state.location).map(t=>{let e=n.dehydratedMatches.find(e=>e.id===t.id);return(0,S.Z)(e,`Could not find a client-side match for dehydrated match with id: ${t.id}!`),{...t,...e}});this.__store.setState(t=>({...t,matches:s})),this.manifest=r.router.manifest},this.injectedHtml=[],this.injectHtml=t=>{let e=()=>(this.injectedHtml=this.injectedHtml.filter(t=>t!==e),t);this.injectedHtml.push(e)},this.injectScript=(t,e)=>{this.injectHtml(`<script class='tsr-once'>${t}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=t=>{var e;if(this.isServer)return;let i=null==(e=window.__TSR__)?void 0:e.streamedValues[t];if(!!i)return!i.parsed&&(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(t,e)=>{var i;(0,w.Z)(!this.streamedKeys.has(t),"Key has already been streamed: "+t),this.streamedKeys.add(t),this.injectScript(`__TSR__.streamedValues['${t}'] = { value: ${null==(i=this.serializer)?void 0:i.call(this,this.options.transformer.stringify(e))}}`)},this._handleNotFound=(t,e,{updateMatch:i=this.updateMatch}={})=>{let r=Object.fromEntries(t.map(t=>[t.routeId,t])),n=(e.global?this.looseRoutesById[C.B]:this.looseRoutesById[e.routeId])||this.looseRoutesById[C.B];for(;!n.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&n.id!==C.B;)n=n.parentRoute,(0,S.Z)(n,"Found invalid route tree while trying to find not-found handler.");let s=r[n.id];(0,S.Z)(s,"Could not find match for route: "+n.id),i(s.id,t=>({...t,status:"notFound",error:e,isFetching:!1})),"BEFORE_LOAD"===e.routerCode&&n.parentRoute&&(e.routeId=n.parentRoute.id,this._handleNotFound(t,e,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>"notFound"===t.status||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??P,parseSearch:t.parseSearch??_,transformer:t.transformer??L}),"undefined"!=typeof document&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,e,i){return"string"==typeof t?this.matchRoutesInternal({pathname:t,search:e},i):this.matchRoutesInternal(t,e)}matchRoutesInternal(t,e){let{foundRoute:i,matchedRoutes:r,routeParams:n}=this.getMatchedRoutes(t,null==e?void 0:e.dest),s=!1;(i?"/"!==i.path&&n["**"]:(0,M.zk)(t.pathname))&&(this.options.notFoundRoute?r.push(this.options.notFoundRoute):s=!0);let o=(()=>{if(!!s){if("root"!==this.options.notFoundMode)for(let t=r.length-1;t>=0;t--){let e=r[t];if(e.children)return e.id}return C.B}})(),a=r.map(t=>{var i;let r;let s=(null==(i=t.options.params)?void 0:i.parse)??t.options.parseParams;if(s)try{let t=s(n);Object.assign(n,t)}catch(t){if(r=new q(t.message,{cause:t}),null==e?void 0:e.throwOnError)throw r;return r}}),u=[],l=t=>(null==t?void 0:t.id)?t.context??this.options.context??{}:this.options.context??{};return r.forEach((i,r)=>{var s,c,h,d;let f;let p=u[r-1],[m,v]=(()=>{let r=(null==p?void 0:p.search)??t.search;try{let t=I(i.options.validateSearch,r)??{};return[{...r,...t},void 0]}catch(i){let t=new A(i.message,{cause:i});if(null==e?void 0:e.throwOnError)throw t;return[r,t]}})(),y=(null==(c=(s=i.options).loaderDeps)?void 0:c.call(s,{search:m}))??"",g=y?JSON.stringify(y):"",b=(0,M.sk)({path:i.fullPath,params:n,decodeCharMap:this.pathParamsDecodeCharMap}),S=(0,M.sk)({path:i.id,params:n,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+g,w=this.getMatch(S),C=this.state.matches.find(t=>t.routeId===i.id),R=C?"stay":"enter";if(w)f={...w,cause:R,params:C?(0,O.Q$)(C.params,n):n,search:C?(0,O.Q$)(C.search,m):(0,O.Q$)(w.search,m)};else{let t=i.options.loader||i.options.beforeLoad||i.lazyFn||function(t){var e;for(let i of D)if(null==(e=t.options[i])?void 0:e.preload)return!0;return!1}(i)?"pending":"success";f={id:S,index:r,routeId:i.id,params:C?(0,O.Q$)(C.params,n):n,pathname:(0,M.RQ)([this.basepath,b]),updatedAt:Date.now(),search:C?(0,O.Q$)(C.search,m):m,searchError:void 0,status:t,isFetching:!1,error:void 0,paramsError:a[r],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:R,loaderDeps:C?(0,O.Q$)(C.loaderDeps,y):y,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:i.options.staticData||{},loadPromise:(0,O.M5)(),fullPath:i.fullPath}}"success"===f.status&&(f.headers=null==(d=(h=i.options).headers)?void 0:d.call(h,{loaderData:f.loaderData})),!(null==e?void 0:e.preload)&&(f.globalNotFound=o===i.id),f.searchError=v;let _=l(p);f.context={..._,...f.__routeContext,...f.__beforeLoadContext},u.push(f)}),u.forEach((i,r)=>{var n,s,o,a;let c=this.looseRoutesById[i.routeId];if(!this.getMatch(i.id)&&(null==e?void 0:e._buildLocation)!==!0){let e=l(u[r-1]),o={deps:i.loaderDeps,params:i.params,context:e,location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),buildLocation:this.buildLocation,cause:i.cause,abortController:i.abortController,preload:!!i.preload,matches:u};i.__routeContext=(null==(s=(n=c.options).context)?void 0:s.call(n,o))??{},i.context={...e,...i.__routeContext,...i.__beforeLoadContext}}let h=null==(a=(o=c.options).head)?void 0:a.call(o,{matches:u,match:i,params:i.params,loaderData:i.loaderData??void 0});i.links=null==h?void 0:h.links,i.scripts=null==h?void 0:h.scripts,i.meta=null==h?void 0:h.meta}),u}}class A extends Error{}class q extends Error{}function B(t){if(t instanceof Error){let e={name:t.name,message:t.message};return e}return{data:t}}},1939:function(t,e,i){i.d(e,{v:function(){return n}});let r=i(7294).createContext(null);function n(){return"undefined"==typeof document?r:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=r,r)}},2699:function(t,e,i){i.d(e,{O:function(){return n}});var r=i(4e3);function n(t){return(0,r.b)({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}},9179:function(t,e,i){i.d(e,{M:function(){return n}});var r=i(4e3);function n(t){let{select:e,...i}=t;return(0,r.b)({...i,select:t=>e?e(t.loaderDeps):t.loaderDeps})}},4e3:function(t,e,i){i.d(e,{b:function(){return a}});var r=i(7294),n=i(1835),s=i(2570),o=i(2099);function a(t){let e=r.useContext(t.from?o.j:o.i);return(0,s.z)({select:i=>{let r=i.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if((0,n.Z)(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),void 0!==r)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}},6619:function(t,e,i){i.d(e,{s:function(){return s}});var r=i(7294),n=i(3635);function s(t){let{navigate:e}=(0,n.t)();return r.useCallback(t=>e({...t}),[e])}},1387:function(t,e,i){i.d(e,{U:function(){return n}});var r=i(4e3);function n(t){return(0,r.b)({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}},3635:function(t,e,i){i.d(e,{t:function(){return o}});var r=i(7294),n=i(5298),s=i(1939);function o(t){let e=r.useContext((0,s.v)());return(0,n.Z)(!(((null==t?void 0:t.warn)??!0)&&!e),"useRouter must be used inside a <RouterProvider> component!"),e}},2570:function(t,e,i){i.d(e,{z:()=>u});var r=i("2798");function n(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(let[i,r]of t)if(!e.has(i)||!Object.is(r,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0}let i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(let r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(e,i[r])||!Object.is(t[i[r]],e[i[r]]))return!1;return!0}var s=i("7294"),o=i("3635"),a=i("3091");function u(t){let e=(0,o.t)({warn:(null==t?void 0:t.router)===void 0}),i=(null==t?void 0:t.router)||e,u=(0,s.useRef)();return function(t,e=t=>t){return(0,r.useSyncExternalStoreWithSelector)(t.subscribe,()=>t.state,()=>t.state,e,n)}(i.__store,e=>{if(null==t?void 0:t.select){if(t.structuralSharing??i.options.defaultStructuralSharing){let i=(0,a.Q$)(u.current,t.select(e));return u.current=i,i}return t.select(e)}return e})}},5437:function(t,e,i){i.d(e,{R:function(){return n}});var r=i(4e3);function n(t){return(0,r.b)({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}},3091:function(t,e,i){i.d(e,{D9:function(){return f},M5:function(){return d},PO:function(){return a},Q$:function(){return function t(e,i){if(e===i)return e;let r=l(e)&&l(i);if(r||a(e)&&a(i)){let n=r?e:Object.keys(e),s=n.length,o=r?i:Object.keys(i),a=o.length,u=r?[]:{},l=0;for(let s=0;s<a;s++){let a=r?s:o[s];(!r&&n.includes(a)||r)&&void 0===e[a]&&void 0===i[a]?(u[a]=void 0,l++):(u[a]=t(e[a],i[a]),u[a]===e[a]&&void 0!==e[a]&&l++)}return s===a&&l===s?e:u}return i}},S1:function(){return p},SE:function(){return s},Z$:function(){return n},bt:function(){return h},ei:function(){return o},ts:function(){return m},vZ:function(){return function t(e,i,r){if(e===i)return!0;if(typeof e!=typeof i)return!1;if(a(e)&&a(i)){let n=(null==r?void 0:r.ignoreUndefined)??!0,s=c(e,n),o=c(i,n);return((null==r?!!void 0:!!r.partial)||s.length===o.length)&&o.every(n=>t(e[n],i[n],r))}if(Array.isArray(e)&&Array.isArray(i))return e.length===i.length&&!e.some((e,n)=>!t(e,i[n],r));return!1}}});var r=i(7294);function n(t){return t[t.length-1]}function s(t,e){return"function"==typeof t?t(e):t}function o(t,e){return e.reduce((e,i)=>(e[i]=t[i],e),{})}function a(t){if(!u(t))return!1;let e=t.constructor;if(void 0===e)return!0;let i=e.prototype;return!!(u(i)&&i.hasOwnProperty("isPrototypeOf"))||!1}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function c(t,e){let i=Object.keys(t);return e&&(i=i.filter(e=>void 0!==t[e])),i}let h="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function d(t){let e,i;let r=new Promise((t,r)=>{e=t,i=r});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),null==t||t(i)},r.reject=t=>{r.status="rejected",i(t)},r}function f(t){let e=r.useRef({value:t,prev:null}),i=e.current.value;return t!==i&&(e.current={value:t,prev:i}),e.current.prev}function p(t,e,i={},n={}){let s=r.useRef("function"==typeof IntersectionObserver),o=r.useRef(null);return r.useEffect(()=>{if(!!t.current&&!!s.current&&!n.disabled)return o.current=new IntersectionObserver(([t])=>{e(t)},i),o.current.observe(t.current),()=>{var t;null==(t=o.current)||t.disconnect()}},[e,i,n.disabled,t]),o.current}function m(t){let e=r.useRef(null);return r.useEffect(()=>{t&&("function"==typeof t?t(e.current):t.current=e.current)}),e}},1835:function(t,e,i){i.d(e,{Z:function(){return n}});var r="Invariant failed";function n(t,e){var i;if(!t)throw Error(r)}}}]);